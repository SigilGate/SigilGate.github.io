<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Архитектура хранения данных on SigilGate</title><link>https://sigilgate.github.io/docs/data_storage/</link><description>Recent content in Архитектура хранения данных on SigilGate</description><generator>Hugo</generator><language>ru</language><atom:link href="https://sigilgate.github.io/docs/data_storage/index.xml" rel="self" type="application/rss+xml"/><item><title>Введение: Проблема, Цели и Ограничения</title><link>https://sigilgate.github.io/docs/data_storage/00_introduction/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sigilgate.github.io/docs/data_storage/00_introduction/</guid><description>&lt;h1 id="00-введение-проблема-цели-и-ограничения" class="relative group">00 Введение: Проблема, Цели и Ограничения &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#00-%d0%b2%d0%b2%d0%b5%d0%b4%d0%b5%d0%bd%d0%b8%d0%b5-%d0%bf%d1%80%d0%be%d0%b1%d0%bb%d0%b5%d0%bc%d0%b0-%d1%86%d0%b5%d0%bb%d0%b8-%d0%b8-%d0%be%d0%b3%d1%80%d0%b0%d0%bd%d0%b8%d1%87%d0%b5%d0%bd%d0%b8%d1%8f" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Проект Sigil Gate ставит перед собой задачу создания децентрализованной частной сети, устойчивой к современным методам обнаружения и блокировки, таким как глубокий анализ пакетов (DPI) и активное зондирование. В рамках этой глобальной цели возникает критически важная подзадача, касающаяся хранения и синхронизации данных о сущностях сети.&lt;/p>
&lt;h2 id="1-проблема" class="relative group">1. Проблема &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%d0%bf%d1%80%d0%be%d0%b1%d0%bb%d0%b5%d0%bc%d0%b0" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Необходимо разработать систему хранения данных, которая способна поддерживать работу распределенной и децентрализованной сети, обеспечивая при этом высокую доступность и консистентность конфигурационной и оперативной информации. Традиционные централизованные подходы к хранению данных создают единую точку отказа, что противоречит основополагающим принципам устойчивости сети Sigil Gate.&lt;/p></description></item><item><title>Дорожная Карта Развития</title><link>https://sigilgate.github.io/docs/data_storage/05_roadmap/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sigilgate.github.io/docs/data_storage/05_roadmap/</guid><description>&lt;h1 id="05-дорожная-карта-развития" class="relative group">05 Дорожная Карта Развития &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#05-%d0%b4%d0%be%d1%80%d0%be%d0%b6%d0%bd%d0%b0%d1%8f-%d0%ba%d0%b0%d1%80%d1%82%d0%b0-%d1%80%d0%b0%d0%b7%d0%b2%d0%b8%d1%82%d0%b8%d1%8f" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Развитие архитектуры хранения данных для сети Sigil Gate будет осуществляться поэтапно, с учетом текущих потребностей и перспективного роста проекта. Это позволит эффективно использовать ресурсы и масштабировать систему по мере увеличения требований.&lt;/p>
&lt;h2 id="1-этап-1-начальное-внедрение-текущий-этап" class="relative group">1. Этап 1: Начальное Внедрение (Текущий этап) &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%d1%8d%d1%82%d0%b0%d0%bf-1-%d0%bd%d0%b0%d1%87%d0%b0%d0%bb%d1%8c%d0%bd%d0%be%d0%b5-%d0%b2%d0%bd%d0%b5%d0%b4%d1%80%d0%b5%d0%bd%d0%b8%d0%b5-%d1%82%d0%b5%d0%ba%d1%83%d1%89%d0%b8%d0%b9-%d1%8d%d1%82%d0%b0%d0%bf" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;strong>KV-хранилище:&lt;/strong> Развертывание кластера &lt;code>etcd&lt;/code> непосредственно на Core-нодах. Core-ноды будут хостить узлы &lt;code>etcd&lt;/code>, обеспечивая оперативность и распределенность хранения конфигураций и состояний.&lt;/li>
&lt;li>&lt;strong>Git-репозиторий:&lt;/strong> Создание приватного Git-репозитория для хранения желаемого состояния сети и её конфигураций. Этот репозиторий будет служить источником истины и основным механизмом восстановления.&lt;/li>
&lt;li>&lt;strong>Синхронизация:&lt;/strong> Реализация механизмов синхронизации:
&lt;ul>
&lt;li>Root-нода для первоначальной загрузки конфигурации из Git в &lt;code>etcd&lt;/code> при развертывании.&lt;/li>
&lt;li>Core-ноды для периодического сохранения оперативных изменений из &lt;code>etcd&lt;/code> обратно в Git.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Управление доступом:&lt;/strong> Настройка ACL для &lt;code>etcd&lt;/code> и прав доступа для Git-репозитория, обеспечивающих необходимую иерархию управления и безопасность.&lt;/li>
&lt;li>&lt;strong>Автоматизация:&lt;/strong> Разработка базовых CLI-инструментов для взаимодействия с &lt;code>etcd&lt;/code> и Git-репозиторием для выполнения оперативного управления.&lt;/li>
&lt;/ul>
&lt;h2 id="2-этап-2-масштабирование-и-оптимизация-по-мере-роста-сети" class="relative group">2. Этап 2: Масштабирование и Оптимизация (По мере роста сети) &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#2-%d1%8d%d1%82%d0%b0%d0%bf-2-%d0%bc%d0%b0%d1%81%d1%88%d1%82%d0%b0%d0%b1%d0%b8%d1%80%d0%be%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d0%b8-%d0%be%d0%bf%d1%82%d0%b8%d0%bc%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be-%d0%bc%d0%b5%d1%80%d0%b5-%d1%80%d0%be%d1%81%d1%82%d0%b0-%d1%81%d0%b5%d1%82%d0%b8" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;strong>Выделенный KV-кластер:&lt;/strong> При значительном росте числа узлов (ближе к сотням и тысячам), увеличении нагрузки на Core-ноды или необходимости повышения изоляции, будет рассмотрено развертывание выделенного кластера &lt;code>etcd&lt;/code> на отдельных, специализированных узлах. Это позволит разгрузить Core-ноды и повысить общую доступность и производительность KV-хранилища.&lt;/li>
&lt;li>&lt;strong>Миграция на &lt;code>Consul&lt;/code> (опционально):&lt;/strong> Если возникнет потребность в расширенных функциях Service Discovery, Health Checking или других возможностях, присущих &lt;code>Consul&lt;/code>, будет рассмотрена миграция с &lt;code>etcd&lt;/code> на &lt;code>Consul&lt;/code>. Этот переход будет планироваться таким образом, чтобы минимизировать простой и обеспечить плавность перехода.&lt;/li>
&lt;li>&lt;strong>Расширение автоматизации:&lt;/strong> Разработка более сложных CLI-инструментов и, возможно, создание веб-интерфейса для управления сетью, использующего API KV-хранилища и взаимодействующего с Git.&lt;/li>
&lt;li>&lt;strong>Улучшение мониторинга:&lt;/strong> Развертывание комплексной системы мониторинга и алертинга для отслеживания состояния KV-кластера, процессов синхронизации и консистентности данных.&lt;/li>
&lt;/ul>
&lt;h2 id="3-этап-3-расширенные-возможности-и-устойчивость" class="relative group">3. Этап 3: Расширенные Возможности и Устойчивость &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#3-%d1%8d%d1%82%d0%b0%d0%bf-3-%d1%80%d0%b0%d1%81%d1%88%d0%b8%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b5-%d0%b2%d0%be%d0%b7%d0%bc%d0%be%d0%b6%d0%bd%d0%be%d1%81%d1%82%d0%b8-%d0%b8-%d1%83%d1%81%d1%82%d0%be%d0%b9%d1%87%d0%b8%d0%b2%d0%be%d1%81%d1%82%d1%8c" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;strong>Геораспределенный KV-кластер:&lt;/strong> Для максимальной отказоустойчивости и снижения задержек в очень больших или географически распределенных сетях может быть рассмотрено развертывание геораспределенного KV-кластера.&lt;/li>
&lt;li>&lt;strong>Интеграция с CI/CD:&lt;/strong> Более глубокая интеграция Git-репозитория с пайплайнами CI/CD для автоматизированного тестирования конфигураций перед их применением.&lt;/li>
&lt;li>&lt;strong>Автоматическое разрешение конфликтов:&lt;/strong> Разработка более продвинутых механизмов для автоматического разрешения конфликтов при параллельной записи в Git-репозиторий несколькими Core-нодами, если это станет значительной проблемой.&lt;/li>
&lt;/ul>
&lt;p>Эта дорожная карта обеспечивает гибкость в развитии архитектуры хранения данных, позволяя проекту Sigil Gate адаптироваться к изменяющимся условиям и требованиям, сохраняя при этом основные принципы надежности и децентрализации.&lt;/p></description></item><item><title>Итоговая Архитектура: Гибридный Подход</title><link>https://sigilgate.github.io/docs/data_storage/02_final_architecture/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sigilgate.github.io/docs/data_storage/02_final_architecture/</guid><description>&lt;h1 id="02-итоговая-архитектура-гибридный-подход" class="relative group">02 Итоговая Архитектура: Гибридный Подход &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#02-%d0%b8%d1%82%d0%be%d0%b3%d0%be%d0%b2%d0%b0%d1%8f-%d0%b0%d1%80%d1%85%d0%b8%d1%82%d0%b5%d0%ba%d1%82%d1%83%d1%80%d0%b0-%d0%b3%d0%b8%d0%b1%d1%80%d0%b8%d0%b4%d0%bd%d1%8b%d0%b9-%d0%bf%d0%be%d0%b4%d1%85%d0%be%d0%b4" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Для удовлетворения всех требований по распределенному хранению, отказоустойчивости, консистентности, автоматизации и, главное, сохранности данных при полном перестроении сети Sigil Gate, была выбрана &lt;strong>гибридная архитектура&lt;/strong>. Она сочетает в себе преимущества &lt;strong>распределенного Key-Value (KV) хранилища&lt;/strong> для оперативных данных и &lt;strong>системы контроля версий Git&lt;/strong> как основного источника истины и средства восстановления.&lt;/p>
&lt;h2 id="1-обзор-гибридной-архитектуры" class="relative group">1. Обзор Гибридной Архитектуры &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%d0%be%d0%b1%d0%b7%d0%be%d1%80-%d0%b3%d0%b8%d0%b1%d1%80%d0%b8%d0%b4%d0%bd%d0%be%d0%b9-%d0%b0%d1%80%d1%85%d0%b8%d1%82%d0%b5%d0%ba%d1%82%d1%83%d1%80%d1%8b" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Этот подход разделяет функции хранения данных на две основные категории:&lt;/p></description></item><item><title>Рассмотренные Альтернативные Решения</title><link>https://sigilgate.github.io/docs/data_storage/01_alternative_solutions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sigilgate.github.io/docs/data_storage/01_alternative_solutions/</guid><description>&lt;h1 id="01-рассмотренные-альтернативные-решения" class="relative group">01 Рассмотренные Альтернативные Решения &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#01-%d1%80%d0%b0%d1%81%d1%81%d0%bc%d0%be%d1%82%d1%80%d0%b5%d0%bd%d0%bd%d1%8b%d0%b5-%d0%b0%d0%bb%d1%8c%d1%82%d0%b5%d1%80%d0%bd%d0%b0%d1%82%d0%b8%d0%b2%d0%bd%d1%8b%d0%b5-%d1%80%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d1%8f" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>При поиске оптимальной архитектуры для хранения данных сети Sigil Gate были рассмотрены различные подходы. Основными критериями оценки были отказоустойчивость, распределенность, консистентность, удобство автоматизации и возможность полного восстановления данных при катастрофических сбоях.&lt;/p>
&lt;h2 id="1-файловая-система-на-каждом-узле" class="relative group">1. Файловая Система на Каждом Узле &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2%d0%b0%d1%8f-%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bc%d0%b0-%d0%bd%d0%b0-%d0%ba%d0%b0%d0%b6%d0%b4%d0%be%d0%bc-%d1%83%d0%b7%d0%bb%d0%b5" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>&lt;strong>Описание:&lt;/strong> Хранение конфигураций и оперативных данных в файлах (например, JSON, YAML) непосредственно на каждом узле сети.&lt;/p></description></item><item><title>Синхронизация Данных и Обеспечение Консистентности</title><link>https://sigilgate.github.io/docs/data_storage/04_synchronization_and_consistency/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sigilgate.github.io/docs/data_storage/04_synchronization_and_consistency/</guid><description>&lt;h1 id="04-синхронизация-данных-и-обеспечение-консистентности" class="relative group">04 Синхронизация Данных и Обеспечение Консистентности &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#04-%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f-%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d1%85-%d0%b8-%d0%be%d0%b1%d0%b5%d1%81%d0%bf%d0%b5%d1%87%d0%b5%d0%bd%d0%b8%d0%b5-%d0%ba%d0%be%d0%bd%d1%81%d0%b8%d1%81%d1%82%d0%b5%d0%bd%d1%82%d0%bd%d0%be%d1%81%d1%82%d0%b8" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Эффективная синхронизация и обеспечение консистентности данных между оперативным Key-Value (KV) хранилищем и долгосрочным Git-репозиторием являются критически важными для поддержания работоспособности, управляемости и восстанавливаемости сети Sigil Gate.&lt;/p>
&lt;h2 id="1-механизмы-синхронизации" class="relative group">1. Механизмы Синхронизации &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#1-%d0%bc%d0%b5%d1%85%d0%b0%d0%bd%d0%b8%d0%b7%d0%bc%d1%8b-%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d0%b8" aria-label="Якорь">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Синхронизация данных будет осуществляться в двух направлениях:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Git -&amp;gt; KV (Применение желаемого состояния):&lt;/strong> Этот поток инициируется Root-нодой при развертывании или восстановлении сети, а также может быть запущен для применения глобальных изменений, зафиксированных в Git.&lt;/p></description></item></channel></rss>