---
title: "Разбираю документацию — размышляю о будущем"
slug: "разбираю-документацию-размышляю-о-будущем"
date: 2026-02-04T00:00:00+00:00
draft: false
summary: "Переношу документацию из приватного репозитория на сайт. По дороге — размышления о том, куда все это движется и какие вызовы нас ждут."
tags: ["архитектура", "документация", "размышления"]
---

За время работы над прототипом сети — поиска рабочих решений, экспериментов с протоколами, настройкой узлов — у меня образовалась свалка. Я вел всю работу в приватном репозитории - иногда локально, иногда удаленно - и сбрасывл туда все: учетные данные, скрипты автоматизации, документацию, сайты, исследования, заметки. Все в одном месте - и это было очень удобно. Но со временем я получил классический монорепозиторий, в котором невозможно ориентироваться, с грудами быстро устаревающей информации, невнятной файловой структурой и размытыми границами.

Стало очевидно, что с этим надо что-то делать.

Я создал отдельную организацию на GitHub — прежде всего для того, чтобы распилить этот монолит на специализированные репозитории. Данные — отдельно. Скрипты управления — отдельно. Гайды и мануалы — отдельно от исследований и учетных данных. Часть репозиториев останется приватной, часть станет публичной.

Для публичной части — сайт на GitHub Pages: документация, блог, раздел «О проекте». И легкие каналы коммуникации — не только через GitHub (все-таки достаточно узкоспециализированная площадка), но и через мессенджеры и соцсети. Я также планирую развивать отдельные, наиболее удачные, посты до размеров статьи — объединяя несколько по итогам месяца  — для публикации на площадках вроде Хабра, Дзена и Medium.

Сейчас я занимаюсь переносом документации из приватного репозитория на сайт - и это навевает некоторые мысли, которыми хочется поделиться.

## Новое прочтение 

Когда работаешь с документацией — особенно с верхнеуровневой, архитектурной, не уходя глубоко в детали, а на уровне функционирования системы в целом — тянет немного поразмышлять. Представить, а как бы это могло работать в тех или иных условиях. Что если масштабировать. Что если объединить с чем-то. Что если ситуация изменится.

К тому же, перечитывая и делая правки — иногда вдруг начинаешь более четко понимать то, что в самом начале чувствовал только на уровне ощущений. Приходят формулировки. Появляются детали, которых в начале не было, но они подразумевались — или должны были появиться.

У меня все еще весьма размытое представление о том, как будут реализованы многие вещи: система хранения данных, управление сущностями внутри сети и многое другое. Однако именно эта незавершенность дает возможность немного помечтать и представить будущее развитие проекта — в тех частях, где пока еще белый лист.

## Где мы сейчас

Сейчас наша сеть функционирует на уровне узлов и протоколов. И это уже большое достижение.

Мы преодолели множество организационных и технических трудностей. Рассмотрели несколько самых новейших и современных протоколов и разные виды транспорта, используемые для построения приватных сетей. Не все эксперименты заканчивались успешно — на то они и эксперименты. Но в результате мы нашли технические решения, позволяющее обходить блокировки, проходить незаметно через средства DPI и гнать трафик туда и обратно.

Этого уже достаточно, чтобы построить свой небольшой частный VPN-сервис. И это победа.

Но это всего лишь один маленький шаг. Потому что вызовы, которые перед нами стоят, намного серьезнее.

## Вызов времени

В текущей ситуации основной вызов заключается даже не в том, чтобы найти работающий стек технологий или сетевых протоколов для обхода блокировок. Они, так или иначе, будут появляться.

Основной вызов состоит не в том, чтобы защитить соединение и спрятать его, замаскировав под обычный интернет-трафик, с технической точки зрения. **Главный вызов — сделать это соединение статистически невидимым**, не выделяющимся из обычного интернет-трафика.

И с этой точки зрения, схемы, которые работали раньше — когда можно было арендовать сервер за рубежом по цене чашки кофе, прокинуть до него защищенный канал и получить свой личный VPN — больше не работают. Такие каналы будут вычислены и заблокированы довольно скоро. И в будущем, с развитием систем и техник DPI, срок их обнаружения и компрометации будет только уменьшаться.

Чтобы спрятать трафик теперь — его недостаточно завернуть в туннель. Его надо еще и замаскировать под обычный трафик и сделать возможность его статистического обнаружения математически ничтожной.

**Лучшее из возможного** — когда у вас есть собственные сети, эндпоинты (сайты или сервисы) на зарубежных площадках и некоторое количество интернет-трафика, не блокируемого регулятором. Тогда вполне можно завернуть в этот трафик еще и VPN. Внешне все будет выглядеть достаточно безобидно - просто еще один запрос к популярному ресурсу. Если хочешь спрятать дерево, то спрячь его в лесу.

Так что — развиваем стартапы и цифровые платформы, поднимаем трафик, доводим органику до стабильного уровня — и можно жить, не привлекая внимания санитаров (пока до вашего ресурса не добрались требования по принудительному приземлению в конкретной юрисдикции).

**На уровне индивидуального использования** — стоит задуматься о следовании принципам, существенно снижающим вероятность обнаружения.

Их, как видится, несколько.

### Избирательная маршрутизация на клиенте

Первый принцип — правильная настройка клиента. Доступ к разрешенным ресурсам идет напрямую, к ограниченным — через защищенную сеть. Никакого «весь трафик в туннель». Чем меньше трафика проходит через VPN — тем менее заметен сам факт его существования.

### Непрерывная ротация

Второй принцип — автоматическая ротация узлов сети, ротация эндпоинтов, использование множества доменов для маскировки. Это первое, что приходит на ум, и минимальное из того, что можно сделать. И здесь есть варианты.

### Горизонтальное расширение

Третий принцип — горизонтальное расширение. Привлечение новых участников и развитие собственной сети (сейчас мы находимся здесь).

Новые участники приносят новые эндпоинты, эндпоинты делятся и ротируются между участниками, создавая вариабельность путей, существенно затрудняющую какой-либо статистический анализ. Новые участники свободно добавляются и свободно исчезают, и все получают ситуацию win-win.

## Развитие сети

Для горизонтального расширения требуется развитие сети, и оно может идти по нескольким направлениям:

- **Равноправное участие** — объединение в партнерскую программу по формирование общей сети. Это возможно между: организациями одной структуры, членами клуба, родственниками и друзьями.
- **Оказание услуг** — организация небольших сетей. Привлечение клиентов, реклама через сарафанное радио, дистрибьюция через закрытые сообщества. 
- **Объединение на уровне сетей** — партнерская программа обмена трафиком между независимыми сетями.

## Что для этого нужно

Масштабируемость. Легкость развертывания и администрирования. Управление узлами и пользователями. Автоматизация. Адаптивность. Возможность присоединять узлы и быстро перестраиваться — вплоть до полного распада и развертывания всей инфраструктуры с нуля, с сохранением информации об узлах и пользователях.

И конвейерная генерация контента: фабрики по производству эндпоинтов для прикрытия и маскировки — сайтов и сервисов, псевдореалистичных (что уже не выглядит утопией при нынешнем уровне развития нейросетей) или находящихся в продакшне.

## А при чем тут документация

Осознанно или нет — но все эти принципы закладывались или закладываются в архитектуру **Sigil Gate**. Что-то реализовано, а что-то еще предстоит реализовать. Какие-то технические решения уже найдены, а где-то еще простор для экспериментов.

В интересное время мы живем, товарищи.
