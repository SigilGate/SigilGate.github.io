[{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/grpc/","section":"Tags","summary":"","title":"Grpc"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/new/","section":"Tags","summary":"","title":"New"},{"content":"Строим туннели, наводим мосты, соединяем страны и континенты.\nУзнать больше... ","date":null,"permalink":"https://sigilgate.github.io/","section":"Sigil Gate","summary":"\u003cp\u003eСтроим туннели, наводим мосты, соединяем страны и континенты.\u003c/p\u003e\n\u003cdiv style=\"text-align: center;\"\u003e\n\u003ca\n  class=\"inline-block !rounded-md bg-primary-600 px-4 py-1 !text-neutral !no-underline hover:!bg-primary-500 dark:bg-primary-800 dark:hover:!bg-primary-700\"\n  href=\"/about/\"\n  \n  \n  role=\"button\"\n\u003e\n  Узнать больше...\n\u003c/a\u003e\n\n\u003c/div\u003e","title":"Sigil Gate"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/xray/","section":"Tags","summary":"","title":"Xray"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/","section":"Tags","summary":"","title":"Безопасность"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/blog/","section":"Блог","summary":"","title":"Блог"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%BC%D0%B0%D1%81%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0/","section":"Tags","summary":"","title":"Маскировка"},{"content":"Давно было в планах — и вот, наконец, свершилось.\nВ нашей архитектуре самый критический участок — это соединение между entry-нодой и core-нодой. Это трансграничный канал: именно он пересекает периметр, на который направлено повышенное внимание систем DPI.\nVLESS поверх gRPC — сильная комбинация. Трафик практически неотличим от обычного HTTPS: TLS с валидным сертификатом, HTTP/2, браузерный TLS-фингерпринт. Со стороны это выглядит как обращение к обычному веб-сервису. Распознать его по сигнатурам практически невозможно.\nНо «практически неотличим» не означает «невозможно вычислить».\nДаже если содержимое трафика зашифровано и протокол замаскирован, остаются метаданные: кто, куда, как часто, как долго. Постоянное соединение по одному и тому же gRPC-пути на одном хосте — это паттерн. Даже для легитимного gRPC-микросервиса это выглядит подозрительно: реальные сервисы обычно обращаются по разным эндпоинтам.\nЕсли путь не меняется неделями — это маркер. Статистический анализ может выделить такое соединение из общего потока.\nРешение: менять gRPC serviceName автоматически, с заданной периодичностью. Каждый новый путь — случайно сгенерированная строка. Со стороны это выглядит как активность различных сервисов и пользователей одного хоста.\nЯ долго откладывал реализацию, но сегодня руки наконец дошли.\nВ минимальной реализации это bash-скрипт на core-ноде, который запускается по systemd timer. Скрипт генерирует новый случайный путь, обновляет конфигурации Nginx и Xray на core-ноде, а затем по SSH пушит изменение outbound-пути на каждую entry-ноду.\nВажный момент: клиентская сторона не затрагивается. Путь ротируется только на внутреннем участке entry→core. Клиентам не нужно ничего перенастраивать — они продолжают подключаться к entry-ноде по прежнему адресу.\nТекущие ограничения #На короткие секунды в момент ротации связь может пропадать — сервисы перезагружаются. Клиент переподключается автоматически, но разрыв заметен.\nВ перспективе мы перейдём на Xray gRPC API (hot reload). Это позволит менять пути без перезагрузки сервисов — ротация станет бесшовной, без разрыва соединения.\nСейчас ротация настроена на каждый час. Практика покажет, приносит ли это ощутимые неудобства на клиенте. Если нет — будем увеличивать интервал или перенесем время ротации на периоды наименьшей активности.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D1%80%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F-grpc-%D0%BF%D1%83%D1%82%D0%B5%D0%B9/","section":"Блог","summary":"Давно было в планах — и вот свершилось. Самый уязвимый участок сети теперь защищён автоматической ротацией адресов.","title":"Ротация gRPC-путей"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/hugo/","section":"Tags","summary":"","title":"Hugo"},{"content":"После перехода на Congo первое, что бросается в глаза — всё просто работает. Тёмный режим, переключение языков, навигация — ничего не сломалось, всё выглядит аккуратно и стильно.\nОдна маленькая деталь #Есть вещь, которая меня давно удивляет: почему в подавляющем большинстве тем текст выравнивается по левому краю? Почему? Ну, почему?! О, Боги! — мой внутренний перфекционист страдает, когда видит четкий край слева — и рваную нестройную елочку из строчек справа. Что мешает четко обозначить правила и границы блоков? Это выглядит очень неряшливо — особенно на широких экранах, где строки длинные и неровность бросается в глаза.\nВыравнивание по ширине (justify) делает текст визуально собранным — как в книге или хорошо свёрстанном журнале. Да, у justify есть свои нюансы с переносами, но\u0026hellip; выравнивание по ширине - это, несомненно, мой выбор.\nКак исправить #Congo предусматривает файл assets/css/custom.css для пользовательских стилей — он подключается автоматически и не затрагивается при обновлении темы. Достаточно одного правила:\n.prose { text-align: justify; } Готово. Теперь текст выровнен по ширине, и при следующем обновлении Congo ничего не сломается.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D0%BF%D0%B5%D1%80%D0%B2%D1%8B%D0%B5-%D0%B2%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BE%D1%82-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9-%D1%82%D0%B5%D0%BC%D1%8B/","section":"Блог","summary":"Тема Congo работает отлично, но\u0026hellip;","title":"Первые впечатления от новой темы"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D1%81%D0%B0%D0%B9%D1%82/","section":"Tags","summary":"","title":"Сайт"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D1%82%D0%B5%D0%BC%D0%B0/","section":"Tags","summary":"","title":"Тема"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/linux/","section":"Tags","summary":"","title":"Linux"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/systemd/","section":"Tags","summary":"","title":"Systemd"},{"content":"Я ощущаю себя пещерным человеком.\nМне уже много лет, и есть вещи, к которым я привык настолько, что воспринимаю их как константу. Они всегда на своих местах. Они всегда работают. Я никогда не задумываюсь, есть ли что-то ещё — потому что зачем, если и так всё хорошо?\nКогда мне нужно запускать что-то регулярно, с заданной периодичностью — я использую cron. Я не знаю, сколько лет этой утилите. Мне кажется, она была всегда. Открыл crontab -e, написал расписание, забыл. Работает.\nНо сегодня, решая очередную задачу с периодическим запуском, я с удивлением узнал, что альтернатива существует. Причём довольно давно.\nSystemd timer — это механизм планирования задач, встроенный в systemd. Он решает те же задачи, что и cron, но с бо́льшей точностью и бо́льшим количеством опций:\nГранулярность до секунд. У cron минимальный интервал — одна минута. У systemd timer такого ограничения нет. Защита от дублирования. Если предыдущий запуск ещё не завершился — новый не запустится. Cron этого не контролирует: если скрипт работает дольше интервала, запустится второй экземпляр поверх первого. Логирование через journalctl. Все запуски, выводы, ошибки — в одном месте. Не нужно вручную перенаправлять stdout в файл. RandomizedDelaySec. Случайное смещение времени запуска. Задача стартует не ровно по расписанию, а в случайный момент внутри заданного окна. Это усложняет выявление паттерна по времени — полезно, когда предсказуемость запуска нежелательна. Зависимости. Можно указать, что задача должна запускаться только после поднятия сети, после запуска другого сервиса, после монтирования диска. Cron просто стреляет по расписанию, не глядя на состояние системы (или надо лопатить свои костыли). Persistent. Если система была выключена в момент запланированного пуска — задача выполнится сразу после загрузки. Cron же пропущенные запуски просто теряет. Совсем недавно мне нужно было настроить автоматическую ротацию случайно генерируемых gRPC-путей между нодами. Для этого можно было бы использовать cron. Но\u0026hellip;наверное, пора выходить из пещеры.\nТеперь, когда я знаю про systemd timer, в планах:\nНастроить мониторинг через journalctl — алерты при ошибках ротации, агрегация логов. Тонко настроить случайный сдвиг — чтобы ещё сильнее затруднить статистический анализ времени ротации системами обнаружения. Зависимость от сети — не пытаться ротировать, если сеть ещё не поднялась после перезагрузки. И, возможно, ещё что-то, что умеет systemd timer и не умеет cron. Подозреваю, я пока узнал далеко не всё. ","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/systemd-timer-%D0%B2%D1%80%D0%B5%D0%BC%D1%8F-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B8%D1%82%D1%8C-%D0%B8%D0%B7-%D0%BF%D0%B5%D1%89%D0%B5%D1%80%D1%8B/","section":"Блог","summary":"Всю жизнь использовал cron. Оказывается, уже давно есть кое-что получше.","title":"Systemd timer: время выходить из пещеры"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F/","section":"Tags","summary":"","title":"Автоматизация"},{"content":"У меня практически не было сомнений, какой фреймворк использовать для сборки сайта. Ну, конечно же: hugo — минималистичный и быстрый. У меня накопился некоторый опыт его использования на других проектах. Если понадобится залезть в его кишки и что-нибудь там поправить - это не будет большой проблемой.\nОднако, выбор темы оформления - совсем другое. Дизайн, вкусовщина, и творческие муки - выбор всегда тяжел. В итоге, пересмотрев немало вариантов, я остановил свой выбор на Congo. Вот несколько причин.\nПочему Congo? #Свежий взгляд. Иногда просто хочется чего-то нового. Прежняя тема меня устраивала: она была строгой и подходила для документации. Но здесь мне захотелось большего простора для творчества. Все-таки, наполовину это задумывается как личный блог, хотя и с профессиональным уклоном.\nМультиязычность. Congo поддерживает i18n из коробки — отдельные конфиги для каждого языка. Я стараюсь внедрять мультиязычность во всех своих проектах - это помогает мне сохранять и поддерживать уровень английского. К тому же — кто знает, на какой регион и на какую аудиторию этот проект может выйти в будущем?\nТёмная тема из коробки. Тёмное оформление Congo уходит в глубокие фиолетовые тона — и это совпадает с настроением, которое я сейчас переживаю.\nИдея маскота #У меня есть идея сделать маскота для этого проекта — кошкодевочку-волшебницу. Фиолетовые волосы, тёмно-фиолетовы одежды и капюшон друида, из-под которого светятся розовые глаза. Волшебный посох в руках, с фирменой символикой Sigil Gate (есть несколько мыслей как использовать его в качестве логотипа). Пока это только концепт, но он хорошо ложится в общую атмосферу. Я размышлял над визуальной идентичностью проекта: тёмно-фиолетовые и голубые тона на белом фоне, с яркими вкраплениями красно-розового и сине-голубого (надо будет оформить брендбук).\nПримеры сайтов на Congo #Если хотите посмотреть, как тема выглядит на реальных сайтах:\nCongo demo — официальное демо темы leif.io — личный сайт и техноблог antoinesoetewey.com — personal site major.io — личный сайт и блог softwarewitchcraft.com — личный блог gorbe.io — бизнес-сайт и блог Полный список сайтов на Congo можно найти на странице пользователей темы.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D0%B2%D1%8B%D0%B1%D0%BE%D1%80-%D1%82%D0%B5%D0%BC%D1%8B-%D0%BE%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B4%D0%BB%D1%8F-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-sigil-gate/","section":"Блог","summary":"Congo в качестве темы оформления — выбираю, устанавливаю и рассказываю, почему.","title":"Выбор темы оформления для проекта Sigil Gate"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"SigilGate — open-source проект, создающий инструменты для построения приватных сетей, устойчивых к блокировкам и анализу трафика.\nМы разрабатываем шаблоны конфигураций, гайды по настройке и утилиты, которые помогают обходить ограничения и сохранять свободный доступ к интернету.\nПринципы # Открытость. Исходный код инструментов и документация доступны публично. Приватность. Никаких логов, никакого отслеживания. Инфраструктура принадлежит пользователям. Устойчивость. Архитектура рассчитана на противодействие DPI и другим методам блокировки. Ссылки # GitHub Блог ","date":"1 января 1 г.","permalink":"https://sigilgate.github.io/about/","section":"Sigil Gate","summary":"\u003cp\u003e\u003cstrong\u003eSigilGate\u003c/strong\u003e — open-source проект, создающий инструменты для построения приватных сетей, устойчивых к блокировкам и анализу трафика.\u003c/p\u003e\n\u003cp\u003eМы разрабатываем шаблоны конфигураций, гайды по настройке и утилиты, которые помогают обходить ограничения и сохранять свободный доступ к интернету.\u003c/p\u003e\n\u003ch2 id=\"принципы\" class=\"relative group\"\u003eПринципы \u003cspan class=\"absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100\"\u003e\u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\" style=\"text-decoration-line: none !important;\" href=\"#%d0%bf%d1%80%d0%b8%d0%bd%d1%86%d0%b8%d0%bf%d1%8b\" aria-label=\"Якорь\"\u003e#\u003c/a\u003e\u003c/span\u003e\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eОткрытость.\u003c/strong\u003e Исходный код инструментов и документация доступны публично.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eПриватность.\u003c/strong\u003e Никаких логов, никакого отслеживания. Инфраструктура принадлежит пользователям.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eУстойчивость.\u003c/strong\u003e Архитектура рассчитана на противодействие DPI и другим методам блокировки.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ссылки\" class=\"relative group\"\u003eСсылки \u003cspan class=\"absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100\"\u003e\u003ca class=\"group-hover:text-primary-300 dark:group-hover:text-neutral-700\" style=\"text-decoration-line: none !important;\" href=\"#%d1%81%d1%81%d1%8b%d0%bb%d0%ba%d0%b8\" aria-label=\"Якорь\"\u003e#\u003c/a\u003e\u003c/span\u003e\u003c/h2\u003e\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/SigilGate\" target=\"_blank\" rel=\"noreferrer\"\u003eGitHub\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n      \n    \u003ca href=\"https://sigilgate.github.io/blog/\"\u003eБлог\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"О проекте"}]