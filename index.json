[{"content":" Архитектура сети Sigil Gate — модель «ядро-периферия», плоскость данных и плоскость управления. ","date":null,"permalink":"https://sigilgate.github.io/docs/architecture/","section":"Документация","summary":"Модель ядро-периферия, маскировка трафика, PKI, администрирование","title":"Архитектура"},{"content":" Гибридная архитектура сочетает распределенное KV-хранилище для оперативных данных и Git-репозиторий как источник истины и средство восстановления. Задачи # Распределенное хранение — информация о сущностях сети доступна из любого рабочего сегмента. Отказоустойчивость — сеть продолжает работать, пока доступна хотя бы одна Core-нода и одна Entry-нода. Сохранность при перестроении — полное восстановление сети с нуля из Git-репозитория даже после потери всей оперативной инфраструктуры. Автоматизация — программное управление всеми функциями сети через CLI или веб-интерфейс. Ограничения # Параметр Значение Размер сети Десятки — сотни узлов, в редких случаях до 1000 KV-кластер На начальном этапе — на Core-нодах Root-нода Может быть неактивна длительное время Доступ узлов к хранилищам # Узел KV-кластер Git-репозиторий Root-нода Чтение / запись Чтение / запись Core-нода Чтение / запись (оперативные изменения) Запись (синхронизация KV → Git) Entry-нода Только чтение Нет доступа Подробнее о взаимодействии каждого типа узла с хранилищами — в разделе Узлы сети.\nРассмотренные альтернативы # Подход Причина отклонения Файловая система на каждом узле Нет консистентности, сложная синхронизация, ненадежное восстановление Реляционные БД (PostgreSQL) Избыточность для KV-данных, сложность развертывания распределенного кластера Облачные БД (DynamoDB и др.) Зависимость от провайдера, риски конфиденциальности, стоимость Ни один подход в чистом виде не удовлетворяет всем требованиям — в первую очередь, по сохранности данных при полном перестроении сети. Это привело к выбору гибридной архитектуры.\nГибридный подход #Функции хранения разделены на два слоя:\nСлой Компонент Назначение Оперативный KV-кластер (etcd) Текущее состояние сети, быстрое чтение/запись, строгая консистентность Долгосрочный Git-репозиторий Желаемое состояние, версионирование, аудит, восстановление с нуля graph TD Git[\"Git-репозиторийисточник истины\"] KV[\"KV-кластероперативные данные\"] Root[\"Root-нода\"] Core[\"Core-ноды\"] Entry[\"Entry-ноды\"] Git --\u003e|\"пуш / пулл\"| Root Git --\u003e|\"пуш / пулл\"| Core Root --\u003e|\"чтение / запись\"| KV Core --\u003e|\"чтение / запись\"| KV Entry --\u003e|\"чтение\"| KV style Git fill:#374151,color:#fff,stroke:#1f2937 style KV fill:#374151,color:#fff,stroke:#1f2937 style Root fill:#7c3aed,color:#fff,stroke:#6d28d9 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Entry fill:#0891b2,color:#fff,stroke:#0e7490 Ключевые принципы # Распределенность и отказоустойчивость — KV-кластер на Core-нодах обеспечивает устойчивость к отказу отдельных узлов. Иерархия управления — Root-нода сохраняет высший уровень контроля; оперативное управление делегировано Core-нодам. Автоматизация — API KV-хранилища позволяет полностью автоматизировать управление сетью. Сохранность данных — Git-репозиторий гарантирует восстановление сети даже после потери всех оперативных узлов. Консистентность — KV-хранилище обеспечивает строгую консистентность; синхронизация поддерживает согласованность между KV и Git. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/data_storage/architecture/","section":"Документация","summary":"Задачи, ограничения, выбор архитектуры и итоговый гибридный подход","title":"Архитектура"},{"content":" Каждый узел плоскости данных (Core-нода и Entry-нода) проходит стандартную процедуру начальной настройки безопасности перед вводом в эксплуатацию. Цель — минимизировать поверхность атаки и обеспечить безопасное удаленное управление. Требования к серверу # Параметр Минимум ОС Debian 12 / Ubuntu 22.04 RAM 512 MB Диск 10 GB SSD Сеть Выделенный IPv4, открытый порт 22 Права доступа Пользователь root или пользователь с правами sudo Этапы настройки #Настройка выполняется последовательно с Root-ноды (или другого управляющего сервера) и состоит из семи этапов:\ngraph TD S1[\"1. Проверка и диагностика\"] S2[\"2. Обновление системы\"] S3[\"3. Создание сервисного пользователя\"] S4[\"4. Размещение SSH-ключа\"] S5[\"5. Проверка доступа по ключу\"] S6[\"6. Защита SSH\"] S7[\"7. Настройка firewall\"] S1 --\u003e S2 --\u003e S3 --\u003e S4 --\u003e S5 --\u003e S6 --\u003e S7 style S1 fill:#1e40af,color:#fff,stroke:#1d4ed8 style S2 fill:#1e40af,color:#fff,stroke:#1d4ed8 style S3 fill:#1e40af,color:#fff,stroke:#1d4ed8 style S4 fill:#1e40af,color:#fff,stroke:#1d4ed8 style S5 fill:#1e40af,color:#fff,stroke:#1d4ed8 style S6 fill:#7c3aed,color:#fff,stroke:#1d4ed8 style S7 fill:#7c3aed,color:#fff,stroke:#1d4ed8 1. Проверка и диагностика #Проверка сетевой доступности сервера и SSH-авторизации root по паролю. На этом этапе проводится диагностика: версия ОС, объем RAM, дисковое пространство. Параметры сервера регистрируются в системе хранения данных сети Sigil Gate.\n2. Обновление системы # Полное обновление пакетов (apt update \u0026amp;\u0026amp; apt upgrade). Установка базовых зависимостей: sudo, curl, wget, ufw, cron. Настройка автоматического обновления безопасности (ежедневно). 3. Создание сервисного пользователя #Создание непривилегированного пользователя с правами sudo. Вся дальнейшая работа с нодой выполняется от имени этого пользователя, а не от root.\n4. Размещение SSH-ключа #Публичный SSH-ключ управляющего сервера размещается в ~/.ssh/authorized_keys сервисного пользователя. Права на директорию и файл устанавливаются в соответствии со стандартами OpenSSH (700/600).\n5. Проверка доступа по ключу #Верификация: сервисный пользователь может подключиться по SSH-ключу без пароля и выполнять команды через sudo.\n6. Защита SSH #Применение ключевых настроек sshd_config:\nПараметр Значение Назначение PermitRootLogin no Запрет входа root PasswordAuthentication no Запрет авторизации по паролю PubkeyAuthentication yes Авторизация только по ключу После применения доступ к серверу возможен только по SSH-ключу для сервисного пользователя.\n7. Настройка firewall #Настройка UFW (Uncomplicated Firewall):\nПравило Описание По умолчанию Запрет всех входящих соединений Порт 22 SSH — удаленное управление Порт 80 HTTP — перенаправление на HTTPS Порт 443 HTTPS — основной рабочий порт Модель SSH-доступа #Для разграничения привилегий используются отдельные SSH-ключи для разных уровней доступа:\ngraph TD RootKey[\"Ключ Root-ноды\"] CoreKey[\"Ключ Core-ноды\"] Core[\"Core-ноды\"] Entry[\"Entry-ноды\"] RootKey --\u003e|\"полный доступ\"| Core RootKey --\u003e|\"полный доступ\"| Entry CoreKey --\u003e|\"управление\"| Entry style RootKey fill:#7c3aed,color:#fff,stroke:#6d28d9 style CoreKey fill:#1d4ed8,color:#fff,stroke:#1e40af style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Entry fill:#0891b2,color:#fff,stroke:#0e7490 Ключ Доступ Назначение Ключ Root-ноды Все ноды (Core + Entry) Полное администрирование сети Ключ Core-ноды Entry-ноды Управление привязанными Entry-нодами Результат настройки #После прохождения всех этапов нода готова к установке специфичных компонентов (Nginx, Xray-core, сайт-прикрытие):\nсистема обновлена, установлены базовые пакеты; настроено автоматическое обновление безопасности; создан сервисный пользователь с правами sudo; SSH-доступ — только по ключу, вход root отключен; firewall разрешает только порты 22, 80, 443. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/nodes/setup/","section":"Документация","summary":"Требования к серверу, этапы настройки, модель SSH-доступа","title":"Базовая настройка"},{"content":" Sigil Gate — приватная сеть с архитектурой «ядро-периферия», устойчивая к обнаружению системами DPI и активному зондированию. ","date":null,"permalink":"https://sigilgate.github.io/docs/","section":"Документация","summary":"Обзор архитектуры, типы нод, принципы маскировки и устойчивости к DPI","title":"Документация"},{"content":" Сеть Sigil Gate построена по модели «ядро-периферия» — плотно связанное ядро из Core-нод и периферия из Entry-нод, подключенных к ядру. Принципы # Устойчивость к DPI — трафик на каждом участке сети неотличим от легитимной HTTPS-активности. Децентрализация — отсутствие единой точки отказа в плоскости данных; выход одного узла не нарушает работу остальных. Масштабируемость — сеть растет добавлением новых Entry- и Core-нод без перестройки существующей инфраструктуры. Адаптивная топология — сеть гибко реагирует на изменения: вывод узлов, перераспределение нагрузки, смена маршрутов. Простота эксплуатации — типовые операции (развертывание, ротация, мониторинг) автоматизированы и выполняются скриптами с управляющего узла. Федерация — сеть способна принимать новые узлы и объединяться с другими сетями, построенными на той же архитектуре. Сущности #Система состоит из четырех типов сущностей:\nТип Роль Плоскость Расположение Жизненный цикл Root-нода Центр управления, PKI, развертывание Управление Любой сегмент Долгоживущая, критическая Core-нода Ядро сети, маршрутизация трафика в интернет Данные + управление Вне региона Долгоживущая Entry-нода Входной узел, прием клиентских подключений Данные Внутри региона Расходная, ротируемая Клиент Устройство пользователя Данные Внутри региона — graph TD Root[\"Root-нодауправление, PKI\"] Core[\"Core-нодаядро, маршрутизация\"] Entry[\"Entry-нодапериферия, прием подключений\"] Client[\"Клиентустройство пользователя\"] Root --\u003e|\"SSH\"| Core Root --\u003e|\"SSH\"| Entry Client --\u003e|\"VLESS + gRPC\"| Entry Entry --\u003e|\"VLESS + gRPC\"| Core style Root fill:#7c3aed,color:#fff,stroke:#6d28d9 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Entry fill:#0891b2,color:#fff,stroke:#0e7490 style Client fill:#64748b,color:#fff,stroke:#475569 Глоссарий # Термин Определение Core-periphery Сетевая топология с плотно связанным ядром и слабо связанной периферией Root-нода Центр управления сетью и Root CA; не участвует в трафике Core-нода Узел ядра сети; маршрутизирует трафик в интернет, промежуточный CA Entry-нода Входной узел периферии; принимает клиентские подключения VLESS Легковесный прокси-протокол семейства V2Ray gRPC Высокопроизводительный RPC-фреймворк на базе HTTP/2 DPI Deep Packet Inspection — глубокий анализ сетевых пакетов Active probing Техника DPI: активное подключение к серверу для проверки протокола Fallback Резервный ответ (сайт-прикрытие) при отсутствии VLESS-заголовков PKI Public Key Infrastructure — инфраструктура открытых ключей Soft affinity Условная привязка Entry-ноды к Core-ноде, допускающая переназначение ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/architecture/overview/","section":"Документация","summary":"Принципы построения сети, типы сущностей и их роли","title":"Обзор"},{"content":" Распределенное KV-хранилище (etcd) — основа оперативного управления сетью Sigil Gate. Обеспечивает быстрый доступ к конфигурациям, состояниям узлов и динамическим параметрам. Выбор технологии #На начальном этапе выбран etcd — высокопроизводительное KV-хранилище со строгой консистентностью, используемое в крупных распределенных системах (Kubernetes).\nХранимые данные # Категория Примеры Конфигурации узлов Настройки Core- и Entry-нод Состояния узлов Статусы активности и работоспособности Маршруты и параметры gRPC-пути, параметры TLS-соединений Пользователи Учетные данные (в хешированном виде), права доступа Топология Связи Core-нод, привязки Entry-нод Размещение #На начальном этапе кластер etcd развернут непосредственно на Core-нодах — каждая Core-нода является узлом кластера.\nАспект Значение Преимущество Минимум инфраструктуры, простое развертывание Ограничение Доступность KV зависит от доступности Core-нод Перспектива Выделенный кластер при росте сети (см. развитие) Отказоустойчивость #Кластер etcd построен на протоколе консенсуса Raft. Кластер из нечетного числа узлов (3, 5, \u0026hellip;) выдерживает отказ до (N-1)/2 узлов, сохраняя работоспособность.\nУправление доступом (ACL) # Узел Права Область Root-нода Полные (чтение / запись) Все данные Core-нода Чтение + ограниченная запись Статусы Entry-нод, ротация путей, управление пользователями Entry-нода Только чтение Своя конфигурация, маршруты, данные аутентификации API для автоматизации #KV-хранилище предоставляет HTTP/gRPC API для программного управления сетью — основу для CLI-инструментов и будущего веб-интерфейса.\n","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/data_storage/kv_cluster/","section":"Документация","summary":"etcd-кластер: оперативное хранение конфигураций, состояний и параметров сети","title":"KV-кластер"},{"content":" Root-нода — центральный узел управления сетью. Не участвует в передаче пользовательского трафика. Выполняет функции Root CA, начального развертывания и администрирования всех нод. Роль в архитектуре #Root-нода находится вне плоскости данных — через нее не проходит пользовательский трафик. Она работает исключительно в плоскости управления: PKI, развертывание, конфигурирование, мониторинг.\ngraph TD Root[\"Root-нодауправление, PKI\"] Core1[\"Core-нода #1вне региона\"] Core2[\"Core-нода #2вне региона\"] Entry1[\"Entry-нода Aвнутри региона\"] Entry2[\"Entry-нода Bвнутри региона\"] Entry3[\"Entry-нода Cвнутри региона\"] Root --\u003e|SSH| Core1 Root --\u003e|SSH| Core2 Root --\u003e|SSH| Entry1 Root --\u003e|SSH| Entry2 Root --\u003e|SSH| Entry3 style Root fill:#7c3aed,color:#fff,stroke:#6d28d9 style Core1 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Entry1 fill:#0891b2,color:#fff,stroke:#0e7490 style Entry2 fill:#0891b2,color:#fff,stroke:#0e7490 style Entry3 fill:#0891b2,color:#fff,stroke:#0e7490 Характеристики # Параметр Значение Функция Управление сетью, Root CA, развертывание Участие в трафике Нет (только плоскость управления) Расположение Любой сегмент сети Жизненный цикл Долгоживущая, критическая Протокол управления SSH Режим работы #Root-нода не используется для оперативного управления сетью. Она может быть неактивна в течение длительного времени, активируясь только для выполнения своих задач:\nразвертывание сети или полное восстановление после инцидента; выпуск корневых и промежуточных сертификатов (PKI); реагирование на критические инциденты (отзыв сертификатов, перестроение сети). Оперативное управление (ротация узлов, управление пользователями, ротация путей) делегировано Core-нодам и выполняется без участия Root-ноды.\nФункции #1. Root CA (центр сертификации) #Root-нода хранит корневой приватный ключ PKI-иерархии и выпускает сертификаты для Core-нод.\ngraph TD RootCA[\"Root CARoot-нода\"] IntCA1[\"Промежуточный CACore-нода #1\"] IntCA2[\"Промежуточный CACore-нода #2\"] Cert1[\"Сертификат Entry A\"] Cert2[\"Сертификат Entry B\"] Cert3[\"Сертификат Entry C\"] RootCA --\u003e|\"выпускает\"| IntCA1 RootCA --\u003e|\"выпускает\"| IntCA2 IntCA1 --\u003e|\"выпускает\"| Cert1 IntCA1 --\u003e|\"выпускает\"| Cert2 IntCA2 --\u003e|\"выпускает\"| Cert3 style RootCA fill:#7c3aed,color:#fff,stroke:#6d28d9 style IntCA1 fill:#1d4ed8,color:#fff,stroke:#1e40af style IntCA2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Cert1 fill:#0891b2,color:#fff,stroke:#0e7490 style Cert2 fill:#0891b2,color:#fff,stroke:#0e7490 style Cert3 fill:#0891b2,color:#fff,stroke:#0e7490 Root CA выпускает сертификаты только для Core-нод. Core-ноды (промежуточные CA) выпускают сертификаты для Entry-нод. Root-нода не выпускает сертификаты для Entry-нод напрямую. 2. Развертывание сети #С Root-ноды выполняется начальное развертывание всех нод:\nподготовка серверов (системные пакеты, firewall, SSH-ключи); установка и настройка Nginx, Xray-core; развертывание сайтов-прикрытий; выпуск и распространение сертификатов. 3. Администрирование #Root-нода — единственная точка, с которой осуществляется полное администрирование сети:\nобновление конфигураций на всех нодах; ротация путей gRPC, сертификатов, ключей; диагностика и мониторинг; добавление и вывод нод из оборота. Однонаправленный доступ #Root-нода имеет SSH-доступ ко всем нодам сети. Обратное запрещено: ни Core-ноды, ни Entry-ноды не имеют доступа к Root-ноде.\nНаправление Разрешен Root → Core-нода Root → Entry-нода Core-нода → Root Entry-нода → Root Компоненты #В отличие от Core- и Entry-нод, Root-нода не содержит Nginx, Xray или сайт-прикрытие. На ней установлены только инструменты управления:\nКомпонент Назначение SSH-клиент Доступ к нодам OpenSSL / CA-инструменты Управление PKI Git Работа с репозиторием Скрипты деплоя Автоматизация развертывания Совмещение с Core-нодой # Роль Root-ноды может быть совмещена с Core-нодой, но это нежелательно. Совмещение увеличивает поверхность атаки: Core-нода участвует в передаче данных и доступна из интернета, что создает дополнительные риски для приватного ключа Root CA и SSH-ключей ко всем нодам сети. При совмещении Root и Core на одном сервере:\nкомпрометация Core-ноды автоматически означает компрометацию Root — критический инцидент для всей сети; сервер становится доступен из интернета по портам 80 и 443, что увеличивает поверхность атаки; единая точка отказа: выход из строя сервера одновременно лишает сеть и узла ядра, и центра управления. В продуктивной среде Root-нода должна быть выделенным сервером без публичных сервисов.\nВзаимодействие с хранилищем данных #Root-нода имеет полный доступ к обоим компонентам системы хранения данных:\nХранилище Права Назначение KV-кластер Чтение / запись Инициализация кластера, глобальные изменения, реагирование на инциденты Git-репозиторий Чтение / запись Извлечение конфигурации при развертывании и восстановлении, синхронизация Git → KV При развертывании или восстановлении сети Root-нода загружает желаемое состояние из Git-репозитория и применяет его к KV-кластеру.\nБезопасность #Root-нода — самый критичный узел сети:\nхранит приватный ключ Root CA; имеет SSH-доступ ко всем нодам; содержит полный реестр инфраструктуры. Рекомендации # Минимум сервисов (нет Nginx, нет Xray, нет публичных портов). SSH-доступ только по ключу. Регулярное обновление системы. Резервное копирование приватного ключа Root CA в безопасное хранилище. Реагирование на компрометацию # Компрометация Root-ноды — критический инцидент, означающий потенциальную компрометацию всей сети. Порядок действий:\nНемедленно: отозвать все SSH-ключи на всех нодах. Немедленно: перегенерировать Root CA. Перевыпустить все сертификаты Core-нод. Перевыпустить все сертификаты Entry-нод (через Core-ноды). Развернуть новую Root-ноду. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/nodes/root/","section":"Документация","summary":"Центральный узел управления — Root CA, развертывание и администрирование всех нод сети","title":"Root-нода"},{"content":" Пользовательский трафик проходит через цепочку: Клиент → Entry-нода → Core-нода → Интернет. Root-нода не участвует в передаче данных. graph TD Client[\"Клиентвнутри региона\"] Entry[\"Entry-нодавнутри региона\"] Core[\"Core-нодавне региона\"] Internet[\"Интернет\"] Client --\u003e|\"VLESS + gRPCTLS 1.3\"| Entry Entry --\u003e|\"VLESS + gRPCTLS 1.3\"| Core Core --\u003e Internet style Client fill:#64748b,color:#fff,stroke:#475569 style Entry fill:#0891b2,color:#fff,stroke:#0e7490 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Internet fill:#374151,color:#fff,stroke:#1f2937 Топология «ядро-периферия» #Ядро сети образовано Core-нодами, которые связаны между собой (mesh). Периферия — Entry-ноды — подключается к ядру, но не связана между собой.\nДля передачи данных Entry-нода может быть связана с несколькими Core-нодами, но лишь с небольшой частью от общего числа Core-нод. Это ограничение реализует принцип минимальной связности: при компрометации Entry-ноды раскрывается лишь малая часть ядра сети.\nМаскировка трафика #На каждом участке сети трафик неотличим от легитимной HTTPS-активности:\nУчасток Что видит наблюдатель Реальность Клиент → Entry HTTPS-запросы к обычному сайту VPN-туннель (VLESS + gRPC) Entry → Core gRPC-вызовы к API микросервисов VPN-туннель (VLESS + gRPC) На обоих участках:\nTLS 1.3 handshake — стандартный, неотличимый от обычного; валидный сертификат Let\u0026rsquo;s Encrypt; при обращении без VLESS-заголовков сервер отдает сайт-прикрытие (HTTP 200 OK). Защита от активного зондирования #На каждом узле сети в плоскости данных сервер Xray расположен за веб-сервером. При обращении на любой URL без правильных VLESS-заголовков веб-сервер возвращает сайт-прикрытие. Наблюдатель не может отличить «секретный путь» от «обычной страницы» — нет характерных ошибок, редиректов или отказов.\nПротокольный стек # graph TB subgraph \"Протокольный стек\" TLS[\"TLS 1.3Let's Encrypt\"] gRPC[\"gRPC (HTTP/2)\"] VLESS[\"VLESS\"] end TLS --- gRPC gRPC --- VLESS style TLS fill:#7c3aed,color:#fff,stroke:#6d28d9 style gRPC fill:#2563eb,color:#fff,stroke:#1d4ed8 style VLESS fill:#1d4ed8,color:#fff,stroke:#1e40af Уровень Технология Назначение Шифрование TLS 1.3 Шифрование канала, валидный сертификат Транспорт gRPC (HTTP/2) Мультиплексирование, маскировка под API Протокол VLESS Легковесный прокси-протокол Рассмотрев альтернативы, gRPC выбран как единственный транспорт:\nустойчив к обнаружению (в отличие от XHTTP); высокая производительность (в отличие от WebSocket); трафик идентичен легитимным gRPC API микросервисов. Динамическая ротация путей #Core-ноды периодически генерируют новые случайные gRPC-пути на участке Entry → Core. Это затрудняет статистический анализ трафика. Клиентские пути при этом не затрагиваются.\n","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/architecture/data_plane/","section":"Документация","summary":"Маршрутизация трафика, топология ядро-периферия, маскировка, протокольный стек","title":"Плоскость данных"},{"content":" Узлы сети Sigil Gate — четыре типа сущностей с разными ролями, жизненным циклом и уровнем доступа. ","date":null,"permalink":"https://sigilgate.github.io/docs/nodes/","section":"Документация","summary":"Базовая настройка, Root-, Core-, Entry-ноды и клиенты","title":"Узлы сети"},{"content":" Core-нода — узел ядра сети, который принимает трафик от Entry-нод и маршрутизирует его в открытый интернет. Размещается вне регулируемого региона. Выполняет роль промежуточного CA в PKI-иерархии. Роль в архитектуре # graph TD Client[\"Клиент\"] Entry[\"Entry-нода\"] Core[\"Core-нода\"] Internet[\"Интернет\"] Client --\u003e|\"VLESS + gRPCTLS 1.3\"| Entry Entry --\u003e|\"VLESS + gRPCTLS 1.3\"| Core Core --\u003e Internet style Core fill:#1d4ed8,color:#fff,stroke:#1e40af,stroke-width:3px style Client fill:#64748b,color:#fff,stroke:#475569 style Entry fill:#0891b2,color:#fff,stroke:#0e7490 style Internet fill:#374151,color:#fff,stroke:#1f2937 Core-нода — последнее звено в цепочке перед выходом в открытый интернет. Она принимает зашифрованный трафик от Entry-нод и направляет его к целевым ресурсам.\nХарактеристики # Параметр Значение Функция Маршрутизация трафика в интернет, промежуточный CA Расположение Вне регулируемого региона Жизненный цикл Долгоживущая Компоненты Nginx + Xray-core + сайт-прикрытие + etcd Открытые порты 22 (SSH), 80 (HTTP → HTTPS), 443 (HTTPS) Маскировка gRPC API микросервисов Компоненты # graph TD subgraph core[\"Core-нода\"] Nginx[\"Nginx0.0.0.0:443\"] Xray[\"Xray-core127.0.0.1:10003\"] Site[\"Сайт-прикрытие\"] Nginx --\u003e|\"/api.v2.rpc.{path}\"| Xray Nginx --\u003e|\"/\"| Site end Entry[\"Entry-нода\"] --\u003e|\"TLS 1.3\"| Nginx Xray --\u003e Internet[\"Интернет\"] style Nginx fill:#7c3aed,color:#fff,stroke:#6d28d9 style Xray fill:#2563eb,color:#fff,stroke:#1d4ed8 style Site fill:#64748b,color:#fff,stroke:#475569 style Entry fill:#0891b2,color:#fff,stroke:#0e7490 style Internet fill:#374151,color:#fff,stroke:#1f2937 Nginx # TLS-терминация с сертификатом Let\u0026rsquo;s Encrypt; маршрутизация по URL path: gRPC-трафик направляется на Xray, все остальные запросы — на сайт-прикрытие; fallback: любой неизвестный запрос возвращает сайт-прикрытие (HTTP 200 OK). Xray-core # Слушает только на 127.0.0.1 (недоступен извне); протокол: VLESS + gRPC; inbound: принимает трафик от Entry-нод; outbound: freedom — прямой выход в интернет. Сайт-прикрытие # Полноценный веб-сайт (SPA), доступный по основному домену; при обращении к любому URL без VLESS-заголовков — возвращается сайт-прикрытие; контент уникальный и нейтральный, сайт выглядит «живым» при ручной проверке. Ядро сети (mesh) #Core-ноды образуют ядро сетевой топологии core-periphery. Между собой они связаны полносвязной mesh-сетью:\nCore-ноды проверяют друг друга через общий Root CA; при необходимости Core-ноды могут передавать друг другу административную ответственность за Entry-ноды; выход одной Core-ноды из строя не нарушает работу остальных. graph TD Core1[\"Core #1\"] Core2[\"Core #2\"] Core3[\"Core #3\"] Core1 ---|\"Root CA\"| Core2 Core2 ---|\"Root CA\"| Core3 Core1 ---|\"Root CA\"| Core3 style Core1 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core3 fill:#1d4ed8,color:#fff,stroke:#1e40af Управление Entry-нодами #Каждая Core-нода административно отвечает за группу Entry-нод:\nконфигурирование Xray и Nginx на Entry-нодах; ротация gRPC-путей на участке Entry → Core; мониторинг состояния и доступности; выпуск сертификатов для Entry-нод (промежуточный CA). Core-нода имеет SSH-доступ к своим Entry-нодам по ключу для автоматизации этих операций.\nCore-ноды могут передавать свои Entry-ноды другим Core-нодам — например, для вывода Core-ноды из ротации на обслуживание. Механизмы передачи находятся на этапе архитектурного планирования. Ротация gRPC-путей #Core-нода периодически генерирует новые случайные gRPC-пути (/api/v2/rpc/{random}/) и обновляет конфигурацию на всех своих Entry-нодах. Процесс:\nГенерация нового случайного пути. Обновление конфигурации Nginx и Xray на Core-ноде. Валидация новой конфигурации. Обновление конфигурации на каждой Entry-ноде по SSH. В случае ошибки — автоматический откат. Клиентские пути при этом не затрагиваются — ротация касается только участка Entry → Core.\nПромежуточный CA (PKI) #Core-нода выступает промежуточным удостоверяющим центром:\nполучает свой сертификат от Root CA (Root-нода); выпускает сертификаты для Entry-нод; Entry-ноды принимают сертификаты любой Core-ноды сети. Параметр Значение Источник сертификата Root CA (Root-нода) Срок жизни Долгосрочный Выпускает сертификаты для Entry-нод Отзыв Ручной, с Root-ноды Маскировка трафика #На участке Entry → Core трафик выглядит как gRPC-вызовы к API микросервисов:\nстандартный TLS 1.3 handshake; валидный сертификат Let\u0026rsquo;s Encrypt; HTTP/2 с gRPC content-type; случайные serviceName, имитирующие реальные API. Этот участок наиболее уязвим для анализа DPI, так как трафик пересекает границу регулируемого региона.\nВзаимодействие с хранилищем данных #Core-ноды играют центральную роль в системе хранения данных сети.\nKV-кластер (etcd) #На начальном этапе Core-ноды хостят узлы распределенного KV-кластера (etcd). Через KV-хранилище выполняются все оперативные задачи:\nобновление статусов Entry-нод; ротация gRPC-путей; управление пользователями (добавление, изменение, удаление); обновление конфигураций узлов. Параметр Значение Права доступа Чтение — все данные; запись — оперативные изменения Размещение На Core-нодах (начальный этап) Git-репозиторий #Core-ноды имеют доступ на запись в приватный Git-репозиторий. Каждая Core-нода периодически фиксирует оперативные изменения из KV-хранилища в Git (направление KV → Git). Это обеспечивает непрерывное версионирование и сохранение актуального состояния сети даже при неактивной Root-ноде.\nТребования к серверу # Параметр Минимум CPU 1 vCPU RAM 512 MB Диск 10 GB SSD ОС Ubuntu 22.04 / Debian 12 IPv4 Выделенный белый адрес Локация Вне регулируемого региона Реагирование на компрометацию #При компрометации Core-ноды (обнаружение и блокировка DPI):\nУведомить администратора (Root-нода). Перевести Entry-ноды, привязанные к этой Core-ноде, на другие Core-ноды. Отозвать сертификат промежуточного CA скомпрометированной Core-ноды. Перевыпустить сертификаты Entry-нод, которые были привязаны к этой Core-ноде. При необходимости — развернуть новую Core-ноду. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/nodes/core/","section":"Документация","summary":"Ядро сети — маршрутизация трафика в интернет, TLS-терминация, промежуточный CA","title":"Core-нода"},{"content":" Приватный Git-репозиторий — единственный источник истины (Source of Truth) для сети Sigil Gate. Хранит желаемое состояние инфраструктуры, обеспечивает версионирование, аудит и возможность полного восстановления сети с нуля. Роль в архитектуре # Восстановление — при полной потере оперативной инфраструктуры сеть перестраивается из Git-репозитория. Версионирование — каждое изменение конфигурации фиксируется как коммит с возможностью отката. Аудит — история коммитов показывает, кто, когда и что изменил. Декларативное управление — репозиторий описывает, какой должна быть сеть; оперативные системы приводят реальное состояние в соответствие. Структура данных #В репозитории хранятся структурированные файлы (JSON / YAML):\nКатегория Содержимое Описания узлов Конфигурации Root-, Core-, Entry-нод (без секретов) Топология Связи между Core-нодами, правила привязки Entry-нод Пользователи Список пользователей и права доступа (без чистых учетных данных) PKI Метаданные сертификатов, статусы отзыва (CRL) Git-репозиторий никогда не содержит приватные ключи, токены или пароли в открытом виде. Управление секретами осуществляется через PKI и KV-хранилище. Взаимодействие # Узел Роль Root-нода Извлекает конфигурацию при развертывании / восстановлении. Может фиксировать изменения. Core-ноды Периодически фиксируют оперативные изменения из KV в Git (KV → Git). Основной механизм непрерывного версионирования. Entry-ноды Нет доступа Core-ноды обеспечивают сохранность оперативных изменений даже при длительной неактивности Root-ноды.\n","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/data_storage/git_repository/","section":"Документация","summary":"Источник истины — версионирование, аудит изменений, полное восстановление сети с нуля","title":"Git-репозиторий"},{"content":" Root-нода администрирует всю сеть по SSH. Доступ — однонаправленный: Root имеет доступ ко всем нодам, обратный доступ запрещен. graph TD Root[\"Root-нодауправление, PKI\"] Core1[\"Core-нода #1\"] Core2[\"Core-нода #2\"] Entry1[\"Entry-нода A\"] Entry2[\"Entry-нода B\"] Entry3[\"Entry-нода C\"] Root --\u003e|SSH| Core1 Root --\u003e|SSH| Core2 Root --\u003e|SSH| Entry1 Root --\u003e|SSH| Entry2 Root --\u003e|SSH| Entry3 Core1 ---|\"mesh\"| Core2 style Root fill:#7c3aed,color:#fff,stroke:#6d28d9 style Core1 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Entry1 fill:#0891b2,color:#fff,stroke:#0e7490 style Entry2 fill:#0891b2,color:#fff,stroke:#0e7490 style Entry3 fill:#0891b2,color:#fff,stroke:#0e7490 Административная привязка #Каждая Entry-нода в каждый момент времени административно закреплена за одной Core-нодой. Core-нода отвечает за конфигурирование, ротацию путей и мониторинг своих Entry-нод.\nЭто образует древовидную структуру в плоскости управления:\ngraph TD Core1[\"Core-нода #1\"] Core2[\"Core-нода #2\"] E1[\"Entry A\"] E2[\"Entry B\"] E3[\"Entry C\"] E4[\"Entry D\"] E5[\"Entry E\"] Core1 --\u003e E1 Core1 --\u003e E2 Core1 --\u003e E3 Core2 --\u003e E4 Core2 --\u003e E5 Core1 ---|\"mesh\"| Core2 style Core1 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core2 fill:#1d4ed8,color:#fff,stroke:#1e40af style E1 fill:#0891b2,color:#fff,stroke:#0e7490 style E2 fill:#0891b2,color:#fff,stroke:#0e7490 style E3 fill:#0891b2,color:#fff,stroke:#0e7490 style E4 fill:#0891b2,color:#fff,stroke:#0e7490 style E5 fill:#0891b2,color:#fff,stroke:#0e7490 Core-ноды могут передавать свои Entry-ноды друг другу — например, для вывода Core-ноды из ротации на обслуживание. Это обеспечивает эксплуатационную гибкость без потери связности.\nУправление с Core-нод #Помимо Root-ноды, типовые операции по управлению сетью могут выполняться с любой Core-ноды: добавление новых Entry-нод, регистрация пользователей, ротация путей. Это позволяет администрировать сеть без постоянного доступа к Root-ноде.\nИнфраструктура открытых ключей (PKI) #Сеть использует трехуровневую иерархию сертификатов:\ngraph TD RootCA[\"Root CARoot-нода\"] IntCA1[\"Промежуточный CACore-нода #1\"] IntCA2[\"Промежуточный CACore-нода #2\"] Cert1[\"СертификатEntry-нода A\"] Cert2[\"СертификатEntry-нода B\"] Cert3[\"СертификатEntry-нода C\"] RootCA --\u003e IntCA1 RootCA --\u003e IntCA2 IntCA1 --\u003e Cert1 IntCA1 --\u003e Cert2 IntCA2 --\u003e Cert3 style RootCA fill:#7c3aed,color:#fff,stroke:#6d28d9 style IntCA1 fill:#1d4ed8,color:#fff,stroke:#1e40af style IntCA2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Cert1 fill:#0891b2,color:#fff,stroke:#0e7490 style Cert2 fill:#0891b2,color:#fff,stroke:#0e7490 style Cert3 fill:#0891b2,color:#fff,stroke:#0e7490 Сертификат Где хранится Срок жизни Отзыв Root CA Root-нода Долгосрочный Ручной, критический инцидент Промежуточный CA Core-нода Долгосрочный Ручной, с Root-ноды Сертификат Entry Entry-нода Часы / дни Автоматический Компрометация и реагирование # Под компрометацией ноды понимается не только несанкционированный доступ к ноде, но и обнаружение и блокировка системами DPI. Признаки компрометации — потеря HTTPS-связности между Entry- и Core-нодами при сохранении SSH-доступа, или существенная деградация канала связи. Компрометация Entry-ноды # Вывести скомпрометированную Entry-ноду из оборота. Если общее количество Core-нод \u0026gt; 2 — вывести Core-ноды, известные этой Entry-ноде. Перевыпустить сертификаты для затронутых компонентов. Компрометация Root-ноды (критический инцидент) # Немедленно отозвать все SSH-ключи на всех нодах. Перегенерировать Root CA. Перевыпустить все сертификаты Core-нод и Entry-нод. Развернуть новую Root-ноду. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/architecture/control_plane/","section":"Документация","summary":"SSH-администрирование, административная привязка, PKI, компрометация и реагирование","title":"Плоскость управления"},{"content":" Система хранения данных Sigil Gate обеспечивает распределенное, отказоустойчивое хранение конфигураций, состояний узлов и пользовательских данных. Построена на гибридной архитектуре: оперативное KV-хранилище + Git-репозиторий как источник истины. ","date":null,"permalink":"https://sigilgate.github.io/docs/data_storage/","section":"Документация","summary":"Гибридная система хранения: KV-кластер для оперативных данных, Git-репозиторий как источник истины","title":"Хранение данных"},{"content":" Entry-нода — входной узел сети, который принимает клиентские подключения и перенаправляет трафик на Core-ноды. Размещается внутри регулируемого региона. Расходная, легко заменяемая — предполагается постоянная ротация. Роль в архитектуре # graph TD Client[\"Клиент\"] Entry[\"Entry-нода\"] Core[\"Core-нода\"] Internet[\"Интернет\"] Client --\u003e|\"VLESS + gRPCTLS 1.3\"| Entry Entry --\u003e|\"VLESS + gRPCTLS 1.3\"| Core Core --\u003e Internet style Entry fill:#0891b2,color:#fff,stroke:#0e7490,stroke-width:3px style Client fill:#64748b,color:#fff,stroke:#475569 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Internet fill:#374151,color:#fff,stroke:#1f2937 Entry-нода — первая точка контакта пользователя с сетью Sigil Gate. Клиент подключается к Entry-ноде как к обычному HTTPS-сайту; Entry-нода извлекает VPN-трафик и перенаправляет его на Core-ноду.\nХарактеристики # Параметр Значение Функция Прием клиентских подключений, перенаправление на Core Расположение Внутри регулируемого региона Жизненный цикл Недолгоживущая, расходная Компоненты Nginx + Xray-core + сайт-прикрытие Открытые порты 22 (SSH), 80 (HTTP → HTTPS), 443 (HTTPS) Маскировка Обычный HTTPS-сайт Компоненты # graph TD subgraph entry[\"Entry-нода\"] Nginx[\"Nginx0.0.0.0:443\"] Xray[\"Xray-core127.0.0.1:10003\"] Site[\"Сайт-прикрытие\"] Nginx --\u003e|\"/api.v2.rpc.{path}\"| Xray Nginx --\u003e|\"/\"| Site end Client[\"Клиент\"] --\u003e|\"TLS 1.3\"| Nginx Xray --\u003e|\"VLESS + gRPCTLS 1.3\"| Core[\"Core-нода\"] style Nginx fill:#7c3aed,color:#fff,stroke:#6d28d9 style Xray fill:#2563eb,color:#fff,stroke:#1d4ed8 style Site fill:#64748b,color:#fff,stroke:#475569 style Client fill:#64748b,color:#fff,stroke:#475569 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af Nginx # TLS-терминация с сертификатом Let\u0026rsquo;s Encrypt; маршрутизация по URL path: gRPC-трафик от клиентов направляется на Xray, все остальные запросы — на сайт-прикрытие; fallback: любой запрос без VLESS-заголовков возвращает сайт-прикрытие (HTTP 200 OK). Xray-core # Слушает только на 127.0.0.1 (недоступен извне); протокол: VLESS + gRPC; inbound: принимает трафик от клиентов; outbound: перенаправляет трафик на Core-ноду через VLESS + gRPC + TLS 1.3. Сайт-прикрытие # Полноценный веб-сайт (SPA), доступный по основному домену; контент уникальный, нейтральный; при ручной проверке сайт выглядит «живым» и легитимным. Расположение и логика #Entry-ноды размещаются внутри регулируемого региона (например, в российских ЦОД). Это принципиальное архитектурное решение:\nтрафик от клиента к Entry-ноде не покидает регион; для систем DPI это выглядит как обычные HTTPS-запросы к локальному сайту; трафик к локальным ресурсам не попадает в приоритетный список для глубокого анализа. Периферия сети #Entry-ноды образуют периферию в топологии core-periphery:\nне связаны между собой; не знают о существовании других Entry-нод; подключены к ядру (Core-нодам), но не ко всему — каждая Entry-нода знает лишь малую часть от общего числа Core-нод. graph TD Core1[\"Core #1\"] Core2[\"Core #2\"] Core3[\"Core #3\"] E1[\"Entry A\"] E2[\"Entry B\"] E3[\"Entry C\"] E4[\"Entry D\"] E1 -.-\u003e|\"данные\"| Core1 E2 -.-\u003e|\"данные\"| Core1 E2 -.-\u003e|\"данные\"| Core2 E3 -.-\u003e|\"данные\"| Core2 E4 -.-\u003e|\"данные\"| Core3 Core1 ---|\"mesh\"| Core2 Core2 ---|\"mesh\"| Core3 Core1 ---|\"mesh\"| Core3 style Core1 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core2 fill:#1d4ed8,color:#fff,stroke:#1e40af style Core3 fill:#1d4ed8,color:#fff,stroke:#1e40af style E1 fill:#0891b2,color:#fff,stroke:#0e7490 style E2 fill:#0891b2,color:#fff,stroke:#0e7490 style E3 fill:#0891b2,color:#fff,stroke:#0e7490 style E4 fill:#0891b2,color:#fff,stroke:#0e7490 Принцип минимальной связности #Ограничение знания топологии — ключевой принцип безопасности. Если Entry-нода скомпрометирована (обнаружена DPI), раскрывается только малая часть ядра сети. Остальные Core-ноды остаются неизвестными для наблюдателя.\nЖизненный цикл #Entry-ноды расходные — они спроектированы для частой замены:\ngraph LR Deploy[\"Развертывание\"] Active[\"Эксплуатация\"] Detect[\"Компрометация\"] Decom[\"Вывод\"] New[\"Новая Entry\"] Deploy --\u003e Active Active --\u003e Detect Detect --\u003e Decom Decom --\u003e New New --\u003e Deploy style Deploy fill:#2563eb,color:#fff,stroke:#1d4ed8 style Active fill:#0891b2,color:#fff,stroke:#0e7490 style Detect fill:#7c3aed,color:#fff,stroke:#6d28d9 style Decom fill:#64748b,color:#fff,stroke:#475569 style New fill:#2563eb,color:#fff,stroke:#1d4ed8 Развертывание — быстрая настройка по стандартному процессу; Эксплуатация — прием клиентских подключений; Компрометация — обнаружение и блокировка DPI (потеря HTTPS-связности с Core при сохранении SSH); Вывод — отключение, отзыв сертификата; Замена — развертывание новой Entry-ноды с новым доменом и IP. Планируется множество однотипных Entry-нод с постоянной ротацией.\nАдминистративная привязка #Каждая Entry-нода в каждый момент времени административно закреплена за одной Core-нодой. Core-нода отвечает за:\nконфигурирование Entry-ноды; ротацию gRPC-путей; мониторинг состояния; выпуск сертификатов (промежуточный CA). Привязка — условная (soft affinity). Core-ноды могут передавать Entry-ноды друг другу.\nМаскировка трафика #Участок Клиент → Entry # Что видит наблюдатель Реальность HTTPS-запросы к обычному сайту VPN-туннель (VLESS + gRPC) Стандартный TLS 1.3 handshake Стандартный TLS 1.3 handshake Валидный сертификат Let\u0026rsquo;s Encrypt Валидный сертификат Let\u0026rsquo;s Encrypt Контент сайта при прямом обращении Сайт-прикрытие (fallback) Защита от активного зондирования # При обращении к любому URL без VLESS-заголовков — сайт-прикрытие (HTTP 200 OK); нет характерных ошибок, редиректов или отказов; gRPC-пути случайные и ротируемые — не /ws/, не /vless/. Взаимодействие с хранилищем данных #В текущей архитектуре Entry-ноды конфигурируются через SSH с закрепленной Core-ноды. В перспективе Entry-ноды получат доступ на чтение к KV-кластеру для самостоятельного получения:\nсвоей конфигурации; актуальных gRPC-путей и параметров подключений к Core-нодам; данных для аутентификации клиентов. Entry-ноды имеют только права на чтение. Запись в KV-кластер и доступ к Git-репозиторию запрещены. Безопасность # Xray слушает только 127.0.0.1; пути gRPC — случайные; firewall: только порты 22, 80, 443; SSH-доступ по ключу (доступ от Root-ноды и закрепленной Core-ноды). Требования к серверу # Параметр Минимум CPU 1 vCPU RAM 512 MB Диск 10 GB SSD ОС Ubuntu 22.04 / Debian 12 IPv4 Выделенный белый адрес Локация Внутри регулируемого региона Реагирование на компрометацию # Признаки компрометации Entry-ноды: потеря HTTPS-связности с Core-нодами при сохранении SSH-доступа, или существенная деградация канала связи. Порядок действий:\nВывести скомпрометированную Entry-ноду из оборота. Если общее количество Core-нод \u0026gt; 2 — вывести Core-ноды, известные этой Entry-ноде. Отозвать сертификат Entry-ноды. Перевыпустить сертификаты для затронутых компонентов. Развернуть новую Entry-ноду с новым доменом и IP-адресом. ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/nodes/entry/","section":"Документация","summary":"Входной узел периферии — прием клиентских подключений, маскировка под HTTPS-сайт","title":"Entry-нода"},{"content":" Двунаправленная синхронизация между KV-кластером и Git-репозиторием обеспечивает актуальность оперативных данных и их долгосрочную сохранность. Направления синхронизации # graph LR Git[\"Git-репозиторий\"] KV[\"KV-кластер\"] Git --\u003e|\"Git → KVразвертывание, восстановление\"| KV KV --\u003e|\"KV → Gitпериодическая фиксация\"| Git style Git fill:#374151,color:#fff,stroke:#1f2937 style KV fill:#374151,color:#fff,stroke:#1f2937 Git → KV (применение желаемого состояния) #Инициируется Root-нодой при развертывании или восстановлении сети. Root-нода считывает конфигурацию из Git и применяет ее к KV-кластеру, приводя оперативное состояние в соответствие с желаемым.\nKV → Git (сохранение оперативных изменений) #Core-ноды периодически фиксируют изменения из KV-хранилища в Git-репозиторий. Каждая Core-нода отслеживает свою область ответственности (статусы Entry-нод, ротированные пути) и при обнаружении изменений формирует коммит.\nПоскольку несколько Core-нод могут одновременно записывать в Git, используется стратегия git pull --rebase перед пушем. Конфликты минимальны — Core-ноды работают в своих областях ответственности. Консистентность # Уровень Механизм KV-кластер Строгая консистентность через протокол Raft Git ↔ KV Асинхронная периодическая синхронизация; Git может кратковременно отставать от KV Приоритет При расхождениях состояние Git считается правильным Развитие #Этап 1 — текущий # KV-кластер (etcd) на Core-нодах Git-репозиторий как источник истины Базовая синхронизация Git ↔ KV ACL для etcd, права доступа к Git Базовые CLI-инструменты Этап 2 — масштабирование # Выделенный KV-кластер на отдельных узлах (при росте до сотен нод) Возможная миграция на Consul (Service Discovery, Health Checking) Расширенные CLI-инструменты, веб-интерфейс Комплексный мониторинг и алертинг Этап 3 — расширенные возможности # Геораспределенный KV-кластер Интеграция Git с CI/CD-пайплайнами Продвинутые механизмы разрешения конфликтов ","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/data_storage/sync/","section":"Документация","summary":"Двунаправленная синхронизация Git ↔ KV, обеспечение консистентности и этапы развития системы","title":"Синхронизация и развитие"},{"content":" Клиент — конечная точка подключения пользователя к сети Sigil Gate. Работает на устройстве пользователя и устанавливает защищенное соединение с Entry-нодой. Роль в архитектуре # graph TD Client[\"Клиент\"] Entry[\"Entry-нода\"] Core[\"Core-нода\"] Internet[\"Интернет\"] Client --\u003e|\"VLESS + gRPCTLS 1.3\"| Entry Entry --\u003e|\"VLESS + gRPCTLS 1.3\"| Core Core --\u003e Internet style Client fill:#64748b,color:#fff,stroke:#475569,stroke-width:3px style Entry fill:#0891b2,color:#fff,stroke:#0e7490 style Core fill:#1d4ed8,color:#fff,stroke:#1e40af style Internet fill:#374151,color:#fff,stroke:#1f2937 Клиент подключается к Entry-ноде как к обычному HTTPS-сайту. Для внешнего наблюдателя соединение неотличимо от обычного веб-трафика.\nПоддерживаемые платформы # Платформа Клиент Статус Android v2rayNG Протестировано, работает Android NekoBox Не работает iOS — Протестировано, работает Windows — В планах macOS — В планах Linux — В планах Параметры подключения #Для подключения необходимы следующие параметры (получить у администратора):\nПараметр Описание UUID Идентификатор пользователя Домен Адрес Entry-ноды Порт 443 Транспорт gRPC serviceName Имя gRPC-сервиса (путь) Параметры TLS # Параметр Значение Security tls SNI пустое (автоматически = домен) Fingerprint chrome ALPN h2 Получение конфигурации #На текущем этапе управление пользователями — ручное. Конфигурацию для подключения можно получить у администратора.\nФорматы:\nVLESS-ссылка — импортируется в клиент одним действием; QR-код — сканируется мобильным приложением. Формат VLESS-ссылки #vless://{UUID}@{DOMAIN}:443?type=grpc\u0026amp;security=tls\u0026amp;serviceName={SERVICE_NAME}\u0026amp;fp=chrome\u0026amp;alpn=h2#{NAME} Плейсхолдер Описание {UUID} Идентификатор пользователя {DOMAIN} Домен Entry-ноды {SERVICE_NAME} Имя gRPC-сервиса {NAME} Отображаемое имя профиля Настройка клиентов #v2rayNG (Android) # Получите VLESS-ссылку у администратора. Скопируйте ссылку. В v2rayNG: + → Import config from clipboard. Выберите профиль → нажмите V для подключения. iOS #Клиент уточняется. Принцип настройки аналогичен — импорт VLESS-ссылки.\nПроверка работоспособности #Откройте в браузере сайт, недоступный без VPN. Если сайт открывается — подключение работает.\nНе используйте встроенные тесты клиентов — они проверяют доступность Google-сервисов (gstatic.com и др.), которые могут быть заблокированы в вашей сети. Тест покажет ошибку даже при рабочем VPN. Известные проблемы #NekoBox не подключается #NekoBox (Android) имеет проблемы с подключением даже в последней версии. Используйте v2rayNG.\nВстроенные тесты показывают ошибки #Это нормально. Тесты проверяют Google-сервисы, которые заблокированы. Проверяйте работоспособность реальными сайтами.\nЧастые разрывы соединения (Android) #Отключите оптимизацию батареи для клиента: Настройки → Приложения → v2rayNG → Батарея → Без ограничений.\n","date":"7 февраля 2026 г.","permalink":"https://sigilgate.github.io/docs/nodes/client/","section":"Документация","summary":"Клиентская часть — подключение пользователя к сети через Entry-ноду","title":"Клиент"},{"content":" Узнать больше... ","date":null,"permalink":"https://sigilgate.github.io/","section":"Sigil Gate","summary":"\u003cdiv style=\"text-align: center;\"\u003e\n\u003ca\n  class=\"inline-block !rounded-md bg-primary-600 px-4 py-1 !text-neutral !no-underline hover:!bg-primary-500 dark:bg-primary-800 dark:hover:!bg-primary-700\"\n  href=\"/about/\"\n  \n  \n  role=\"button\"\n\u003e\n  Узнать больше...\n\u003c/a\u003e\n\n\u003c/div\u003e","title":"Sigil Gate"},{"content":" Строим сеть, которую сложно обнаружить, и рассказываем об этом в блоге, который легко найти. ","date":null,"permalink":"https://sigilgate.github.io/blog/","section":"Блог проекта Sigil Gate","summary":"\u003cp\u003e \u003c/p\u003e\n\u003cdiv class=\"lead !mb-9 text-xl\"\u003e\n  Строим сеть, которую сложно обнаружить, и рассказываем об этом в блоге, который легко найти.\n\u003c/div\u003e","title":"Блог проекта Sigil Gate"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"Забавно, как отрабатывает система таргетированного маркетинга в Google.\nВчера на работе мы включили трек певицы Аннет «На работе», и я решил заглянуть в поисковик — посмотреть об исполнителе: кто, откуда, какого года выпуска и так далее.\nИ тут же, вечером, Google, адаптировавшись видимо к моим интересам, выдал мне ссылку на Анет. Но на совсем другую Анет — ANet, VPN-проект на Rust с собственным транспортным протоколом.\nЧестно говоря, я немного подофигел.\nЯ почувствовал себя героем советского анекдота — про эмигранта, приехавшего на историческую родину, которого Израиль встречает табличкой в аэропорту:\nПомни! Не ты один здесь еврей!\nВот уж действительно — оказывается, я такой не один.\nПроект, так же как и Sigil Gate, концентрируется на построении частных сетей для небольшой группы: друзей, родственников или знакомых. На входе в репозиторий вас приветствует аватар аниме-кошкодевочки и приветствие:\nANet: Сеть Друзей\nANet — это инструмент для организации приватного, защищенного информационного пространства между близкими людьми. Мы строим цифровые мосты там, где обычные пути недоступны.\nЭто не сервис. Это технология для связи тех, кто доверяет друг другу.\nВ общем, ребятам тоже есть о чем рассказать: о связях, о соединениях и о том, как все непросто. Пишут в основном на Rust и копают довольно глубоко: свой клиент, свой сервер и даже свой транспортный протокол ASTP, по смыслу похожий, кажется, на QUIC.\nИз критики #На мой взгляд, основная проблема сейчас — не в том, чтобы зашифровать трафик, и даже не в том, чтобы завернуть его в протокол, который со стороны выглядит как белый шум. Именно это и делают ребята из ANet — отправляют по UDP зашифрованные и обфусцированные пакеты случайными порциями.\nКритически важная проблема сейчас — маскировка под обычный TLS-трафик.\nЛюбой, самый сложный и непонятный для наблюдателя протокол, отличающийся от обычного потока — неизбежно будет вычислен и либо урезан по скорости до черепашьего, либо заблокирован на корню. Какое-то время подобное решение может продержаться — лишь за счет небольшой распространенности или специфичности, на которую не обращают внимания в силу незначительности трафика. Но рано или поздно придут и за такими решениями. Так что брать это на вооружение я бы, пожалуй, не стал.\nНо посмотреть все равно интересно.\n","date":"6 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D1%82%D0%B0%D1%80%D0%B3%D0%B5%D1%82%D0%B8%D0%BD%D0%B3-%D0%BF%D0%BE%D0%BF%D0%B0%D0%B4%D0%B0%D0%B5%D1%82-%D0%B2-%D1%86%D0%B5%D0%BB%D1%8C/","section":"Блог проекта Sigil Gate","summary":"Искал певицу Аннет — нашел проект ANet. Забавно, как работает таргетированная реклама, когда ты строишь приватную сеть.","title":"Когда таргетинг попадает в цель"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%BC%D0%B0%D1%81%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0/","section":"Tags","summary":"","title":"Маскировка"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D1%80%D0%B0%D0%B7%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/","section":"Tags","summary":"","title":"Размышления"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/new/","section":"Tags","summary":"","title":"New"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/telegram/","section":"Tags","summary":"","title":"Telegram"},{"content":"Я прислушиваюсь к критике и стараюсь воспринимать все конструктивно.\nСогласен, что читать посты по ссылке в канале, наверное, не очень удобно. Наверное, стоит оставить этот формат для анонсов, ну и просто для того, чтобы периодически напоминать об основном блоге и перенаправлять на сайт.\nВсе-таки телеграм-канал — это отдельная история. Я решил отбранчевать телеграм-ветку и складывать в ней контент в этом, специфическом, формате.\nБольшие посты будут ужиматься, подача будет больше рассчитана на диалог или обсуждение, больше эмоджиков, ну и особенности форматирования тоже придется учесть (телеграм использует свое подмножество Markdown, или можно вставлять HTML).\nПопробую сделать это и посмотрю, что получится.\n","date":"6 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC-%D1%82%D0%B5%D0%BB%D0%B5%D0%B3%D1%80%D0%B0%D0%BC-%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB/","section":"Блог проекта Sigil Gate","summary":"Телеграм-канал — это отдельная история. Отбранчевываем ветку под контент для канала и настраиваем автоматическую публикацию.","title":"Развиваем телеграм-канал"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/","section":"Tags","summary":"","title":"Документация"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%BE%D0%BF%D0%B5%D0%BD%D1%81%D0%BE%D1%80%D1%81/","section":"Tags","summary":"","title":"Опенсорс"},{"content":"Cеть работает. Технические решения найдены. Мы прошли через эксперименты с протоколами, настройку узлов, поиск рабочих комбинаций — и в результате получили инфраструктуру, которая делает то, что должна: обходит блокировки, проходит через систему DPI и обеспечивает связь.\nЭто уже победа. Но за время работы над прототипом у меня образовалась проблема. Я сваливал все в одну кучу: учетные данные, скрипты, документацию, исследования, заметки. Все в одном месте — удобно для быстрого старта, но смерть для развития и масштабирования проекта. Невнятная структура, размытые границы, груды устаревающей информации.\nСтало очевидно: пора распилить этот монолит на части.\nСоздание организации #Я создал отдельную организацию на GitHub, чтобы разнести все по специализированным репозиториям. Данные — отдельно. Скрипты управления — отдельно. Гайды — отдельно от учетных данных. Часть информации останется приватной, часть станет публичной.\nСейчас я сосредоточен на переносе документации. Раздел \u0026ldquo;Документация\u0026rdquo; на сайте начал постепенно наполняться. Потихоньку перетаскиваю из приватного репозитория: описание типов узлов, топология, базовые принципы. Это только начало — кое-где надо навести красоты, многое еще выглядит достаточно сыро и нуждается в переработке, но процесс запущен.\nРаздел \u0026ldquo;Документация\u0026rdquo; #Для опенсорс-проекта документация — это фундамент. Хорошая документация — это прозрачность архитектуры. Это навигация по репозиториям организации. Это возможность для любого посетителя понять с первого взгляда, куда он попал и как здесь все устроено.\nЭто важно для потенциальных контрибьютеров, для будущих фолловеров, и вообще для всех, кто выразил интерес и просто зашел взглянуть. Документация — это точка входа и первое впечатление.\nЕсть еще один аспект, менее очевидный, но не менее важный.\nЯ уже писал об этом в контексте страницы «О проекте»: когда плотно работаешь с AI, критически важно иметь возможность быстро и точно сформировать контекст. Подробная, хорошо структурированная документация, отражающая актуальное состояние проекта, позволяет свести эту работу к минимуму: «Изучи информацию на сайте. Прочитай документацию проекта.»\nСейчас, в эпоху AI, документация приобретает новую роль — она становится интерфейсом для AI-ассистентов. И чем точнее документация отражает состояние проекта, тем эффективнее становится работа по формированию контекста.\nТак что — разбираем завалы, раскладывем все по полочкам. Распиливаем монолит на части.\nСегодня документация. Затем учетные данные и система хранения информации. Затем - автоматизация и скрипты, а после этого можно уже начинать масштабироваться. Работы впереди еще много.\n","date":"4 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/","section":"Блог проекта Sigil Gate","summary":"Проект работает. Сеть функционирует. Теперь — время навести порядок в документации и сделать проект по-настоящему открытым.","title":"Раздел «Документация»"},{"content":"Сегодня я полностью переработал раздел «О проекте».\nДо сегодняшнего дня это была страничка в три предложения: Sigil Gate, принципы и пара ссылок. Заглушка — минимум информации, чтобы страница не пустовала. Достаточно для запуска сайта, но проект растет, и его становится тяжело описать в двух словах.\nТеперь раздел полностью переработан. Вместо короткого описания — развернутый рассказ о проекте, разбитый на несколько смысловых блоков:\nО проекте — что такое Sigil Gate и почему проект частично открытый. Цели и задачи — децентрализованная архитектура, устойчивая к обнаружению, и практические планы. Миссия — свободный доступ к информации и открытое комьюнити. Статус проекта — где мы сейчас и откуда выросли. Команда — кто стоит за проектом. Участие в проекте — как присоединиться. Зачем все это #Мотивация очень простая. Проект выходит в публичную плоскость: веб-страница, блог, телеграм-канал. Это опенсорс, детка!\nСтраница «О проекте» — это первое, что видит человек, который хочет понять, куда он попал. Она должна отвечать на базовые вопросы: что это, зачем, кто за этим стоит и как можно в этом поучаствовать.\nИ речь идет не только о людях. Есть другая, неочевидная, сторона.\nКогда плотно работаешь с AI, очень важно коротко, емко и структурировано рассказать про проект, обозначить текущее состояние и перспективы развития. Задать рамки и правила. Дать правильный контекст, расставить акценты.\nТогда работа по формированию контекста может быть сведена к двум предложениям: «Изучи информацию на сайте. Прочитай документацию проекта.»\nЧто дальше #И кстати, о документации. В планах — перенос архитектурной документации из приватного репозитория в публичный раздел Docs на сайте. Общие принципы, описание топологии, работа протоколов — все это должно быть открыто, доступно, четко структурировано и сложено в одном месте. Но это уже следующий этап.\n","date":"2 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB-%D0%BE-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5/","section":"Блог проекта Sigil Gate","summary":"Старая страница About была заглушкой. Теперь это полноценный раздел с целями, миссией, командой и приглашением к участию.","title":"Раздел «О проекте»"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D1%81%D0%B0%D0%B9%D1%82/","section":"Tags","summary":"","title":"Сайт"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/linux/","section":"Tags","summary":"","title":"Linux"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/systemd/","section":"Tags","summary":"","title":"Systemd"},{"content":"Я ощущаю себя пещерным человеком.\nМне уже много лет, и есть вещи, к которым я привык настолько, что воспринимаю их как константу. Они всегда на своих местах. Они всегда работают. Я никогда не задумываюсь, есть ли что-то еще — потому что зачем, если и так все хорошо?\nКогда мне нужно запускать что-то регулярно, с заданной периодичностью — я использую cron. Я не знаю, сколько лет этой утилите. Мне кажется, она была всегда. Открыл crontab -e, написал расписание, забыл. Работает.\nНо сегодня, решая очередную задачу с периодическим запуском, я с удивлением узнал, что альтернатива существует. Причем довольно давно.\nSystemd timer — это механизм планирования задач, встроенный в systemd. Он решает те же задачи, что и cron, но с бо́льшей точностью и бо́льшим количеством опций:\nГранулярность до секунд. У cron минимальный интервал — одна минута. У systemd timer такого ограничения нет. Защита от дублирования. Если предыдущий запуск еще не завершился — новый не запустится. Cron этого не контролирует: если скрипт работает дольше интервала, запустится второй экземпляр поверх первого. Логирование через journalctl. Все запуски, выводы, ошибки — в одном месте. Не нужно вручную перенаправлять stdout в файл. RandomizedDelaySec. Случайное смещение времени запуска. Задача стартует не ровно по расписанию, а в случайный момент внутри заданного окна. Это усложняет выявление паттерна по времени — полезно, когда предсказуемость запуска нежелательна. Зависимости. Можно указать, что задача должна запускаться только после поднятия сети, после запуска другого сервиса, после монтирования диска. Cron просто стреляет по расписанию, не глядя на состояние системы (или надо лопатить свои костыли). Persistent. Если система была выключена в момент запланированного пуска — задача выполнится сразу после загрузки. Cron же пропущенные запуски просто теряет. Совсем недавно мне нужно было настроить автоматическую ротацию случайно генерируемых gRPC-путей между нодами. Для этого можно было бы использовать cron. Но\u0026hellip;наверное, пора выходить из пещеры.\nТеперь, когда я знаю про systemd timer, в планах:\nНастроить мониторинг через journalctl — алерты при ошибках ротации, агрегация логов. Тонко настроить случайный сдвиг — чтобы еще сильнее затруднить статистический анализ времени ротации системами обнаружения. Зависимость от сети — не пытаться ротировать, если сеть еще не поднялась после перезагрузки. И, возможно, еще что-то, что умеет systemd timer и не умеет cron. Подозреваю, я пока узнал далеко не все. ","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/systemd-timer-%D0%B2%D1%80%D0%B5%D0%BC%D1%8F-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B8%D1%82%D1%8C-%D0%B8%D0%B7-%D0%BF%D0%B5%D1%89%D0%B5%D1%80%D1%8B/","section":"Блог проекта Sigil Gate","summary":"Всю жизнь использовал cron. Оказывается, уже давно есть кое-что получше.","title":"Systemd timer: время выходить из пещеры"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F/","section":"Tags","summary":"","title":"Автоматизация"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/grpc/","section":"Tags","summary":"","title":"Grpc"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/xray/","section":"Tags","summary":"","title":"Xray"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/","section":"Tags","summary":"","title":"Безопасность"},{"content":"Давно было в планах — и вот, наконец, свершилось.\nВ нашей архитектуре самый критический участок — это соединение между entry-нодой и core-нодой. Это трансграничный канал: именно он пересекает периметр, на который направлено повышенное внимание систем DPI.\nVLESS поверх gRPC — сильная комбинация. Трафик практически неотличим от обычного HTTPS: TLS с валидным сертификатом, HTTP/2, браузерный TLS-фингерпринт. Со стороны это выглядит как обращение к обычному веб-сервису. Распознать его по сигнатурам практически невозможно.\nНо «практически неотличим» не означает «невозможно вычислить».\nДаже если содержимое трафика зашифровано и протокол замаскирован, остаются метаданные: кто, куда, как часто, как долго. Постоянное соединение по одному и тому же gRPC-пути на одном хосте — это паттерн. Даже для легитимного gRPC-микросервиса это выглядит подозрительно: реальные сервисы обычно обращаются по разным эндпоинтам.\nЕсли путь не меняется неделями — это маркер. Статистический анализ может выделить такое соединение из общего потока.\nРешение: менять gRPC serviceName автоматически, с заданной периодичностью. Каждый новый путь — случайно сгенерированная строка. Со стороны это выглядит как активность различных сервисов и пользователей одного хоста.\nЯ долго откладывал реализацию, но сегодня руки наконец дошли.\nВ минимальной реализации это bash-скрипт на core-ноде, который запускается по systemd timer. Скрипт генерирует новый случайный путь, обновляет конфигурации Nginx и Xray на core-ноде, а затем по SSH пушит изменение outbound-пути на каждую entry-ноду.\nВажный момент: клиентская сторона не затрагивается. Путь ротируется только на внутреннем участке entry→core. Клиентам не нужно ничего перенастраивать — они продолжают подключаться к entry-ноде по прежнему адресу.\nТекущие ограничения #На короткие секунды в момент ротации связь может пропадать — сервисы перезагружаются. Клиент переподключается автоматически, но разрыв заметен.\nВ перспективе мы перейдем на Xray gRPC API (hot reload). Это позволит менять пути без перезагрузки сервисов — ротация станет бесшовной, без разрыва соединения.\nСейчас ротация настроена на каждый час. Практика покажет, приносит ли это ощутимые неудобства на клиенте. Если нет — будем увеличивать интервал или перенесем время ротации на периоды наименьшей активности.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D1%80%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F-grpc-%D0%BF%D1%83%D1%82%D0%B5%D0%B9/","section":"Блог проекта Sigil Gate","summary":"Давно было в планах — и вот свершилось. Самый уязвимый участок сети теперь защищен автоматической ротацией адресов.","title":"Ротация gRPC-путей"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/hugo/","section":"Tags","summary":"","title":"Hugo"},{"content":"После перехода на Congo первое, что бросается в глаза — все просто работает. Темный режим, переключение языков, навигация — ничего не сломалось, все выглядит аккуратно и стильно.\nОдна маленькая деталь #Есть вещь, которая меня давно удивляет: почему в подавляющем большинстве тем текст выравнивается по левому краю? Почему? Ну, почему?! О, Боги! — мой внутренний перфекционист страдает, когда видит четкий край слева — и рваную нестройную елочку из строчек справа. Что мешает четко обозначить правила и границы блоков? Это выглядит очень неряшливо — особенно на широких экранах, где строки длинные и неровность бросается в глаза.\nВыравнивание по ширине (justify) делает текст визуально собранным — как в книге или хорошо сверстанном журнале. Да, у justify есть свои нюансы с переносами, но\u0026hellip; выравнивание по ширине — это, несомненно, мой выбор.\nКак исправить #Congo предусматривает файл assets/css/custom.css для пользовательских стилей — он подключается автоматически и не затрагивается при обновлении темы. Достаточно одного правила:\n.prose { text-align: justify; } Готово. Теперь текст выровнен по ширине, и при следующем обновлении Congo ничего не сломается.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D0%BF%D0%B5%D1%80%D0%B2%D1%8B%D0%B5-%D0%B2%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BE%D1%82-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9-%D1%82%D0%B5%D0%BC%D1%8B/","section":"Блог проекта Sigil Gate","summary":"Тема Congo работает отлично, но\u0026hellip;","title":"Первые впечатления от новой темы"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/tags/%D1%82%D0%B5%D0%BC%D0%B0/","section":"Tags","summary":"","title":"Тема"},{"content":"У меня практически не было сомнений, какой фреймворк использовать для сборки сайта. Ну, конечно же: hugo — минималистичный и быстрый. У меня накопился некоторый опыт его использования на других проектах. Если понадобится залезть в его кишки и что-нибудь там поправить — это не будет большой проблемой.\nОднако, выбор темы оформления — совсем другое. Дизайн, вкусовщина, и творческие муки — выбор всегда тяжел. В итоге, пересмотрев немало вариантов, я остановил свой выбор на Congo. Вот несколько причин.\nПочему Congo? #Свежий взгляд. Иногда просто хочется чего-то нового. Прежняя тема меня устраивала: она была строгой и подходила для документации. Но здесь мне захотелось большего простора для творчества. Все-таки, наполовину это задумывается как личный блог, хотя и с профессиональным уклоном.\nМультиязычность. Congo поддерживает i18n из коробки — отдельные конфиги для каждого языка. Я стараюсь внедрять мультиязычность во всех своих проектах — это помогает мне сохранять и поддерживать уровень английского. К тому же — кто знает, на какой регион и на какую аудиторию этот проект может выйти в будущем?\nТемная тема из коробки. Темное оформление Congo уходит в глубокие фиолетовые тона — и это совпадает с настроением, которое я сейчас переживаю.\nИдея маскота #У меня есть идея сделать маскота для этого проекта — кошкодевочку-волшебницу. Фиолетовые волосы, темно-фиолетовы одежды и капюшон друида, из-под которого светятся розовые глаза. Волшебный посох в руках, с фирменой символикой Sigil Gate (есть несколько мыслей как использовать его в качестве логотипа). Пока это только концепт, но он хорошо ложится в общую атмосферу. Я размышлял над визуальной идентичностью проекта: темно-фиолетовые и голубые тона на белом фоне, с яркими вкраплениями красно-розового и сине-голубого (надо будет оформить брендбук).\nПримеры сайтов на Congo #Если хотите посмотреть, как тема выглядит на реальных сайтах:\nCongo demo — официальное демо темы leif.io — личный сайт и техноблог antoinesoetewey.com — personal site major.io — личный сайт и блог softwarewitchcraft.com — личный блог gorbe.io — бизнес-сайт и блог Полный список сайтов на Congo можно найти на странице пользователей темы.\n","date":"1 февраля 2026 г.","permalink":"https://sigilgate.github.io/blog/%D0%B2%D1%8B%D0%B1%D0%BE%D1%80-%D1%82%D0%B5%D0%BC%D1%8B-%D0%BE%D1%84%D0%BE%D1%80%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B4%D0%BB%D1%8F-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-sigil-gate/","section":"Блог проекта Sigil Gate","summary":"Congo в качестве темы оформления — выбираю, устанавливаю и рассказываю, почему.","title":"Выбор темы оформления для проекта Sigil Gate"},{"content":"","date":null,"permalink":"https://sigilgate.github.io/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"Sigil Gate — проект, посвященный построению приватных сетей, устойчивых к обнаружению средствами глубокого анализа трафика (DPI), активному зондированию и региональным блокировкам.\nSigil Gate является частично открытым проектом. Мы открыто публикуем общую архитектуру, инструменты широкого назначения и делимся опытом в блоге. В то же время значительная часть проекта остается закрытой: конфигурации конкретных узлов, чувствительные данные инфраструктуры и специфические детали организации сети не предназначены для публичного доступа.\nПри этом мы открыты к диалогу с сообществом и готовы обсуждать:\nархитектурные подходы к проектированию приватных сетей; работу протоколов и транспортов; модели угроз и уязвимости частных сетей; методы защиты от обнаружения средствами DPI и активного зондирования. Мы также стремимся выкладывать в open-source инструменты общего назначения, решающие задачи мониторинга, автоматизации и системного администрирования.\nМиссия #Мы верим в ценность свободного доступа к открытой информации. Ограничения интернета затрагивают интересы миллионов людей по всему миру, и мы хотим внести свой вклад в решение этой проблемы. Мы стремимся создать открытое комьюнити для свободного обсуждения проблемы ограничений, обмена опытом и поиска решений.\nЦели и задачи #Цели #Создание децентрализованной сетевой архитектуры, которая:\nустойчива к обнаружению; маскирует трафик под легитимную HTTPS-активность на всех участках сети; сохраняет работоспособность при блокировке или компрометации отдельных узлов; масштабируется и адаптируется к изменяющимся условиям. Задачи #Основная практическая задача — развертывание инфраструктуры для частной сети, построенной на описанных принципах, для ограниченного круга участников.\nВ перспективе:\nкоммерческое применение полученного опыта и наработок; оказание независимых услуг по проектированию и настройке защищенных сетей; консалтинг в области сетевой безопасности и инфраструктурных решений; разработка инструментов и утилит для сетевого администрирования и удаленного доступа к ресурсам. Статус проекта #Проект находится на ранней стадии активной разработки. Sigil Gate вырос из нескольких pet-проектов, связанных с построением приватных сетей для персонального использования, и сейчас оформляется в самостоятельный проект с долгосрочными целями.\nБазовая инфраструктура развернута и функционирует. Ведется работа над документацией, инструментами автоматизации и расширением сети.\nКоманда #Основатель организации Sigil Gate на GitHub и главная движущая сила проекта:\nA1eksMa (при поддержке всех сочувствующих и заинтересованных) Весомый вклад в развитие проекта также вносят Клод (из компании Anthropic) и Джим (из Google), также известные как:\n\u0026ldquo;Claude Code\u0026rdquo; \u0026ldquo;Gemini CLI\u0026rdquo; Мы будем рады каждому, кто захочет присоединиться к проекту — в любой роли и на любом уровне вовлеченности.\nУчастие в проекте #Есть несколько способов принять участие:\nПрисоединиться к обсуждению в Telegram или Discord. Открыть issue в одном из репозиториев на GitHub. Предложить pull request — мы открыты к вкладу в публичные репозитории. Поделиться опытом — написать в блог, предложить тему для исследования, сообщить о проблеме. Контакты # GitHub Telegram Блог ","date":"1 января 1 г.","permalink":"https://sigilgate.github.io/about/","section":"Sigil Gate","summary":"\u003cp\u003e\u003cstrong\u003eSigil Gate\u003c/strong\u003e — проект, посвященный построению приватных сетей, устойчивых к обнаружению средствами глубокого анализа трафика (DPI), активному зондированию и региональным блокировкам.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSigil Gate\u003c/strong\u003e является \u003cstrong\u003eчастично открытым\u003c/strong\u003e проектом. Мы открыто публикуем общую архитектуру, инструменты широкого назначения и делимся опытом в \n      \n    \u003ca href=\"https://sigilgate.github.io/blog/\"\u003eблоге\u003c/a\u003e. В то же время значительная часть проекта остается закрытой: конфигурации конкретных узлов, чувствительные данные инфраструктуры и специфические детали организации сети не предназначены для публичного доступа.\u003c/p\u003e\n\u003cp\u003eПри этом мы открыты к диалогу с сообществом и готовы обсуждать:\u003c/p\u003e","title":"О проекте"}]